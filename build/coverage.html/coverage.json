{"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_node_red_contrib_firebase */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - init-after","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - init-after","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - init-after","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/lib.npmtest_node_red_contrib_firebase.js":{"path":"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/lib.npmtest_node_red_contrib_firebase.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":70}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":76}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_node_red_contrib_firebase */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_node_red_contrib_firebase = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_node_red_contrib_firebase = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":69}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":83},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-node-red-contrib-firebase && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_node_red_contrib_firebase */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_node_red_contrib_firebase","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // init-after","    // run browser js-env code - init-after","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - init-after","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_node_red_contrib_firebase.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_node_red_contrib_firebase.rollup.js'] =","            local.assetsDict['/assets.npmtest_node_red_contrib_firebase.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_node_red_contrib_firebase.__dirname + '/lib.npmtest_node_red_contrib_firebase.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_auth.js":{"path":"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_auth.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":31}}},"2":{"name":"FirebaseAuth","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":29}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":28},"end":{"line":18,"column":46}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":30},"end":{"line":24,"column":40}}},"5":{"name":"(anonymous_5)","line":41,"loc":{"start":{"line":41,"column":27},"end":{"line":41,"column":38}}},"6":{"name":"(anonymous_6)","line":48,"loc":{"start":{"line":48,"column":89},"end":{"line":48,"column":107}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":57,"column":2}},"2":{"start":{"line":4,"column":4},"end":{"line":45,"column":5}},"3":{"start":{"line":5,"column":8},"end":{"line":5,"column":37}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":58}},"5":{"start":{"line":8,"column":8},"end":{"line":8,"column":27}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":27}},"7":{"start":{"line":12,"column":8},"end":{"line":16,"column":9}},"8":{"start":{"line":13,"column":12},"end":{"line":13,"column":79}},"9":{"start":{"line":14,"column":12},"end":{"line":14,"column":66}},"10":{"start":{"line":15,"column":12},"end":{"line":15,"column":18}},"11":{"start":{"line":18,"column":8},"end":{"line":22,"column":20}},"12":{"start":{"line":20,"column":10},"end":{"line":20,"column":64}},"13":{"start":{"line":21,"column":10},"end":{"line":21,"column":40}},"14":{"start":{"line":24,"column":8},"end":{"line":28,"column":20}},"15":{"start":{"line":26,"column":10},"end":{"line":26,"column":69}},"16":{"start":{"line":27,"column":10},"end":{"line":27,"column":36}},"17":{"start":{"line":33,"column":8},"end":{"line":33,"column":68}},"18":{"start":{"line":34,"column":8},"end":{"line":34,"column":72}},"19":{"start":{"line":36,"column":8},"end":{"line":37,"column":67}},"20":{"start":{"line":37,"column":12},"end":{"line":37,"column":67}},"21":{"start":{"line":41,"column":10},"end":{"line":43,"column":13}},"22":{"start":{"line":46,"column":4},"end":{"line":46,"column":58}},"23":{"start":{"line":48,"column":4},"end":{"line":56,"column":11}},"24":{"start":{"line":49,"column":12},"end":{"line":49,"column":56}},"25":{"start":{"line":50,"column":12},"end":{"line":55,"column":13}},"26":{"start":{"line":51,"column":16},"end":{"line":51,"column":72}},"27":{"start":{"line":52,"column":16},"end":{"line":52,"column":35}},"28":{"start":{"line":54,"column":16},"end":{"line":54,"column":30}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":12,"column":8}},{"start":{"line":12,"column":8},"end":{"line":12,"column":8}}]},"2":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":36,"column":8}},{"start":{"line":36,"column":8},"end":{"line":36,"column":8}}]},"3":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":12},"end":{"line":50,"column":12}},{"start":{"line":50,"column":12},"end":{"line":50,"column":12}}]},"4":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":16},"end":{"line":50,"column":29}},{"start":{"line":50,"column":33},"end":{"line":50,"column":60}}]}},"code":["module.exports = function(RED) {","    'use strict';","","    function FirebaseAuth(n) {","        RED.nodes.createNode(this,n);","","        this.config = RED.nodes.getNode(n.firebaseconfig);","        this.name = n.name;","        this.ready = false;","","        // Check credentials","        if (!this.config) {","            this.status({fill:\"red\", shape:\"ring\", text:\"invalid credentials\"})","            this.error('You need to setup Firebase credentials!');","            return","        }","","        this.fbAuthorized = function(authData){","          // this.log(\"authorized\")","          this.status({fill:\"green\", shape:\"dot\", text:\"ready\"})","          this.send({payload: authData})","        }.bind(this)","","        this.fbUnauthorized = function(){","          // this.log(\"unauthorized\")","          this.status({fill:\"red\", shape:\"dot\", text:\"unauthorized\"})","          this.send({payload: null})","        }.bind(this)","","","        //Register Handlers","","        this.config.fbConnection.on(\"authorized\", this.fbAuthorized)","        this.config.fbConnection.on(\"unauthorized\", this.fbUnauthorized)","","        if(this.config.fbConnection.authData)","            this.send({payload: this.config.fbConnection.authData})","","","","          this.on('close', function() {","            //Cancel modify request to firebase??","          });","","    }","    RED.nodes.registerType(\"firebase auth\", FirebaseAuth);","","    RED.httpAdmin.post(\"/firebase/:id/auth\", RED.auth.needsPermission(\"firebase.write\"), function(req,res) {","            var node = RED.nodes.getNode(req.params.id);","            if (node !== null && typeof node !== \"undefined\" ) {","                node.send({payload: node.config.fbConnection.authData});","                res.sendStatus(200)","            } else {","                res.send(404);","            }","        });","};",""],"l":{"1":1,"4":1,"5":0,"7":0,"8":0,"9":0,"12":0,"13":0,"14":0,"15":0,"18":0,"20":0,"21":0,"24":0,"26":0,"27":0,"33":0,"34":0,"36":0,"37":0,"41":0,"46":0,"48":0,"49":0,"50":0,"51":0,"52":0,"54":0}},"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_config.js":{"path":"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_config.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0,0,0,0,0,0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":32}}},"2":{"name":"generateUID","line":14,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":26}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":69},"end":{"line":15,"column":81}}},"4":{"name":"(anonymous_4)","line":51,"loc":{"start":{"line":51,"column":25},"end":{"line":51,"column":35}}},"5":{"name":"(anonymous_5)","line":55,"loc":{"start":{"line":55,"column":13},"end":{"line":55,"column":48}}},"6":{"name":"(anonymous_6)","line":58,"loc":{"start":{"line":58,"column":40},"end":{"line":58,"column":50}}},"7":{"name":"(anonymous_7)","line":62,"loc":{"start":{"line":62,"column":26},"end":{"line":62,"column":39}}},"8":{"name":"(anonymous_8)","line":90,"loc":{"start":{"line":90,"column":20},"end":{"line":90,"column":34}}},"9":{"name":"(anonymous_9)","line":91,"loc":{"start":{"line":91,"column":22},"end":{"line":91,"column":36}}},"10":{"name":"(anonymous_10)","line":93,"loc":{"start":{"line":93,"column":27},"end":{"line":93,"column":76}}},"11":{"name":"(anonymous_11)","line":109,"loc":{"start":{"line":109,"column":43},"end":{"line":109,"column":53}}},"12":{"name":"(anonymous_12)","line":154,"loc":{"start":{"line":154,"column":42},"end":{"line":154,"column":56}}},"13":{"name":"(anonymous_13)","line":165,"loc":{"start":{"line":165,"column":24},"end":{"line":165,"column":42}}},"14":{"name":"(anonymous_14)","line":185,"loc":{"start":{"line":185,"column":29},"end":{"line":185,"column":55}}},"15":{"name":"(anonymous_15)","line":205,"loc":{"start":{"line":205,"column":23},"end":{"line":205,"column":33}}},"16":{"name":"(anonymous_16)","line":225,"loc":{"start":{"line":225,"column":31},"end":{"line":225,"column":41}}},"17":{"name":"(anonymous_17)","line":239,"loc":{"start":{"line":239,"column":15},"end":{"line":239,"column":37}}},"18":{"name":"FirebaseConfig","line":254,"loc":{"start":{"line":254,"column":4},"end":{"line":254,"column":31}}},"19":{"name":"(anonymous_19)","line":271,"loc":{"start":{"line":271,"column":45},"end":{"line":271,"column":55}}},"20":{"name":"(anonymous_20)","line":276,"loc":{"start":{"line":276,"column":42},"end":{"line":276,"column":52}}},"21":{"name":"(anonymous_21)","line":308,"loc":{"start":{"line":308,"column":45},"end":{"line":308,"column":55}}},"22":{"name":"(anonymous_22)","line":313,"loc":{"start":{"line":313,"column":43},"end":{"line":313,"column":61}}},"23":{"name":"(anonymous_23)","line":317,"loc":{"start":{"line":317,"column":45},"end":{"line":317,"column":55}}},"24":{"name":"(anonymous_24)","line":322,"loc":{"start":{"line":322,"column":38},"end":{"line":322,"column":53}}},"25":{"name":"(anonymous_25)","line":334,"loc":{"start":{"line":334,"column":25},"end":{"line":334,"column":36}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":351,"column":1}},"2":{"start":{"line":6,"column":4},"end":{"line":6,"column":39}},"3":{"start":{"line":7,"column":4},"end":{"line":7,"column":69}},"4":{"start":{"line":8,"column":4},"end":{"line":8,"column":35}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":31}},"6":{"start":{"line":10,"column":4},"end":{"line":10,"column":50}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":32}},"8":{"start":{"line":14,"column":4},"end":{"line":19,"column":5}},"9":{"start":{"line":15,"column":6},"end":{"line":18,"column":9}},"10":{"start":{"line":16,"column":10},"end":{"line":16,"column":69}},"11":{"start":{"line":17,"column":10},"end":{"line":17,"column":32}},"12":{"start":{"line":51,"column":4},"end":{"line":252,"column":8}},"13":{"start":{"line":52,"column":6},"end":{"line":52,"column":26}},"14":{"start":{"line":54,"column":6},"end":{"line":251,"column":7}},"15":{"start":{"line":56,"column":10},"end":{"line":232,"column":11}},"16":{"start":{"line":58,"column":12},"end":{"line":231,"column":16}},"17":{"start":{"line":61,"column":14},"end":{"line":61,"column":55}},"18":{"start":{"line":62,"column":14},"end":{"line":73,"column":15}},"19":{"start":{"line":64,"column":16},"end":{"line":67,"column":17}},"20":{"start":{"line":66,"column":18},"end":{"line":66,"column":24}},"21":{"start":{"line":69,"column":16},"end":{"line":69,"column":35}},"22":{"start":{"line":70,"column":16},"end":{"line":70,"column":39}},"23":{"start":{"line":72,"column":16},"end":{"line":72,"column":34}},"24":{"start":{"line":76,"column":14},"end":{"line":218,"column":15}},"25":{"start":{"line":90,"column":36},"end":{"line":90,"column":53}},"26":{"start":{"line":91,"column":38},"end":{"line":91,"column":57}},"27":{"start":{"line":96,"column":18},"end":{"line":101,"column":19}},"28":{"start":{"line":97,"column":20},"end":{"line":97,"column":40}},"29":{"start":{"line":98,"column":20},"end":{"line":98,"column":58}},"30":{"start":{"line":99,"column":20},"end":{"line":99,"column":40}},"31":{"start":{"line":100,"column":20},"end":{"line":100,"column":42}},"32":{"start":{"line":103,"column":18},"end":{"line":103,"column":44}},"33":{"start":{"line":104,"column":18},"end":{"line":104,"column":38}},"34":{"start":{"line":105,"column":18},"end":{"line":105,"column":44}},"35":{"start":{"line":107,"column":18},"end":{"line":149,"column":19}},"36":{"start":{"line":109,"column":26},"end":{"line":111,"column":40}},"37":{"start":{"line":110,"column":28},"end":{"line":110,"column":53}},"38":{"start":{"line":112,"column":26},"end":{"line":112,"column":32}},"39":{"start":{"line":114,"column":26},"end":{"line":114,"column":93}},"40":{"start":{"line":115,"column":26},"end":{"line":115,"column":63}},"41":{"start":{"line":116,"column":26},"end":{"line":116,"column":32}},"42":{"start":{"line":118,"column":26},"end":{"line":118,"column":82}},"43":{"start":{"line":119,"column":26},"end":{"line":119,"column":63}},"44":{"start":{"line":120,"column":26},"end":{"line":120,"column":32}},"45":{"start":{"line":122,"column":28},"end":{"line":122,"column":84}},"46":{"start":{"line":127,"column":28},"end":{"line":127,"column":83}},"47":{"start":{"line":128,"column":28},"end":{"line":129,"column":78}},"48":{"start":{"line":129,"column":30},"end":{"line":129,"column":78}},"49":{"start":{"line":131,"column":28},"end":{"line":131,"column":78}},"50":{"start":{"line":133,"column":28},"end":{"line":133,"column":94}},"51":{"start":{"line":134,"column":28},"end":{"line":134,"column":65}},"52":{"start":{"line":135,"column":28},"end":{"line":135,"column":34}},"53":{"start":{"line":138,"column":26},"end":{"line":141,"column":59}},"54":{"start":{"line":143,"column":26},"end":{"line":143,"column":63}},"55":{"start":{"line":144,"column":26},"end":{"line":144,"column":32}},"56":{"start":{"line":156,"column":18},"end":{"line":161,"column":19}},"57":{"start":{"line":157,"column":20},"end":{"line":158,"column":40}},"58":{"start":{"line":158,"column":22},"end":{"line":158,"column":40}},"59":{"start":{"line":160,"column":20},"end":{"line":160,"column":41}},"60":{"start":{"line":166,"column":18},"end":{"line":180,"column":19}},"61":{"start":{"line":167,"column":20},"end":{"line":167,"column":49}},"62":{"start":{"line":169,"column":20},"end":{"line":178,"column":21}},"63":{"start":{"line":170,"column":22},"end":{"line":170,"column":42}},"64":{"start":{"line":171,"column":22},"end":{"line":171,"column":79}},"65":{"start":{"line":173,"column":22},"end":{"line":177,"column":23}},"66":{"start":{"line":175,"column":24},"end":{"line":175,"column":97}},"67":{"start":{"line":176,"column":24},"end":{"line":176,"column":83}},"68":{"start":{"line":179,"column":20},"end":{"line":179,"column":42}},"69":{"start":{"line":182,"column":18},"end":{"line":182,"column":42}},"70":{"start":{"line":186,"column":18},"end":{"line":201,"column":19}},"71":{"start":{"line":200,"column":20},"end":{"line":200,"column":47}},"72":{"start":{"line":206,"column":18},"end":{"line":206,"column":33}},"73":{"start":{"line":207,"column":18},"end":{"line":207,"column":48}},"74":{"start":{"line":211,"column":18},"end":{"line":211,"column":102}},"75":{"start":{"line":213,"column":18},"end":{"line":216,"column":19}},"76":{"start":{"line":214,"column":20},"end":{"line":214,"column":56}},"77":{"start":{"line":215,"column":20},"end":{"line":215,"column":40}},"78":{"start":{"line":223,"column":14},"end":{"line":223,"column":38}},"79":{"start":{"line":224,"column":14},"end":{"line":224,"column":42}},"80":{"start":{"line":225,"column":14},"end":{"line":228,"column":26}},"81":{"start":{"line":226,"column":16},"end":{"line":226,"column":46}},"82":{"start":{"line":227,"column":16},"end":{"line":227,"column":98}},"83":{"start":{"line":230,"column":14},"end":{"line":230,"column":25}},"84":{"start":{"line":234,"column":10},"end":{"line":234,"column":48}},"85":{"start":{"line":236,"column":10},"end":{"line":236,"column":42}},"86":{"start":{"line":240,"column":10},"end":{"line":240,"column":45}},"87":{"start":{"line":242,"column":10},"end":{"line":242,"column":25}},"88":{"start":{"line":244,"column":10},"end":{"line":249,"column":11}},"89":{"start":{"line":245,"column":12},"end":{"line":245,"column":23}},"90":{"start":{"line":247,"column":12},"end":{"line":247,"column":44}},"91":{"start":{"line":254,"column":4},"end":{"line":339,"column":5}},"92":{"start":{"line":255,"column":8},"end":{"line":255,"column":38}},"93":{"start":{"line":261,"column":8},"end":{"line":261,"column":74}},"94":{"start":{"line":262,"column":8},"end":{"line":262,"column":37}},"95":{"start":{"line":263,"column":8},"end":{"line":263,"column":40}},"96":{"start":{"line":264,"column":8},"end":{"line":264,"column":46}},"97":{"start":{"line":265,"column":8},"end":{"line":265,"column":44}},"98":{"start":{"line":266,"column":8},"end":{"line":266,"column":50}},"99":{"start":{"line":267,"column":8},"end":{"line":267,"column":113}},"100":{"start":{"line":269,"column":8},"end":{"line":269,"column":73}},"101":{"start":{"line":271,"column":8},"end":{"line":274,"column":21}},"102":{"start":{"line":273,"column":10},"end":{"line":273,"column":74}},"103":{"start":{"line":276,"column":8},"end":{"line":306,"column":21}},"104":{"start":{"line":278,"column":10},"end":{"line":304,"column":11}},"105":{"start":{"line":281,"column":16},"end":{"line":281,"column":60}},"106":{"start":{"line":282,"column":16},"end":{"line":282,"column":22}},"107":{"start":{"line":284,"column":16},"end":{"line":284,"column":73}},"108":{"start":{"line":285,"column":16},"end":{"line":285,"column":22}},"109":{"start":{"line":287,"column":16},"end":{"line":287,"column":87}},"110":{"start":{"line":288,"column":16},"end":{"line":288,"column":22}},"111":{"start":{"line":290,"column":14},"end":{"line":290,"column":97}},"112":{"start":{"line":291,"column":16},"end":{"line":291,"column":22}},"113":{"start":{"line":293,"column":16},"end":{"line":293,"column":22}},"114":{"start":{"line":295,"column":16},"end":{"line":295,"column":22}},"115":{"start":{"line":297,"column":16},"end":{"line":297,"column":22}},"116":{"start":{"line":299,"column":16},"end":{"line":299,"column":22}},"117":{"start":{"line":301,"column":16},"end":{"line":301,"column":115}},"118":{"start":{"line":302,"column":16},"end":{"line":302,"column":81}},"119":{"start":{"line":303,"column":16},"end":{"line":303,"column":22}},"120":{"start":{"line":305,"column":10},"end":{"line":305,"column":69}},"121":{"start":{"line":308,"column":8},"end":{"line":311,"column":21}},"122":{"start":{"line":310,"column":10},"end":{"line":310,"column":70}},"123":{"start":{"line":313,"column":8},"end":{"line":315,"column":21}},"124":{"start":{"line":317,"column":8},"end":{"line":320,"column":21}},"125":{"start":{"line":319,"column":10},"end":{"line":319,"column":69}},"126":{"start":{"line":322,"column":8},"end":{"line":326,"column":21}},"127":{"start":{"line":324,"column":10},"end":{"line":324,"column":61}},"128":{"start":{"line":325,"column":10},"end":{"line":325,"column":51}},"129":{"start":{"line":334,"column":8},"end":{"line":338,"column":11}},"130":{"start":{"line":335,"column":12},"end":{"line":335,"column":79}},"131":{"start":{"line":337,"column":12},"end":{"line":337,"column":41}},"132":{"start":{"line":341,"column":4},"end":{"line":350,"column":7}}},"branchMap":{"1":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":53},"end":{"line":16,"column":54}},{"start":{"line":16,"column":58},"end":{"line":16,"column":67}}]},"2":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":10},"end":{"line":56,"column":10}},{"start":{"line":56,"column":10},"end":{"line":56,"column":10}}]},"3":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":16},"end":{"line":64,"column":16}},{"start":{"line":64,"column":16},"end":{"line":64,"column":16}}]},"4":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":19},"end":{"line":64,"column":38}},{"start":{"line":64,"column":42},"end":{"line":64,"column":65}}]},"5":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":18},"end":{"line":96,"column":18}},{"start":{"line":96,"column":18},"end":{"line":96,"column":18}}]},"6":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":21},"end":{"line":96,"column":35}},{"start":{"line":96,"column":39},"end":{"line":96,"column":52}}]},"7":{"line":107,"type":"switch","locations":[{"start":{"line":108,"column":22},"end":{"line":112,"column":32}},{"start":{"line":113,"column":22},"end":{"line":116,"column":32}},{"start":{"line":117,"column":22},"end":{"line":120,"column":32}},{"start":{"line":121,"column":22},"end":{"line":135,"column":34}},{"start":{"line":137,"column":22},"end":{"line":144,"column":32}}]},"8":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":18},"end":{"line":156,"column":18}},{"start":{"line":156,"column":18},"end":{"line":156,"column":18}}]},"9":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":20},"end":{"line":157,"column":20}},{"start":{"line":157,"column":20},"end":{"line":157,"column":20}}]},"10":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":18},"end":{"line":166,"column":18}},{"start":{"line":166,"column":18},"end":{"line":166,"column":18}}]},"11":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":20},"end":{"line":169,"column":20}},{"start":{"line":169,"column":20},"end":{"line":169,"column":20}}]},"12":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":22},"end":{"line":173,"column":22}},{"start":{"line":173,"column":22},"end":{"line":173,"column":22}}]},"13":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":18},"end":{"line":186,"column":18}},{"start":{"line":186,"column":18},"end":{"line":186,"column":18}}]},"14":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":18},"end":{"line":213,"column":18}},{"start":{"line":213,"column":18},"end":{"line":213,"column":18}}]},"15":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":10},"end":{"line":244,"column":10}},{"start":{"line":244,"column":10},"end":{"line":244,"column":10}}]},"16":{"line":267,"type":"cond-expr","locations":[{"start":{"line":267,"column":78},"end":{"line":267,"column":104}},{"start":{"line":267,"column":107},"end":{"line":267,"column":111}}]},"17":{"line":278,"type":"switch","locations":[{"start":{"line":279,"column":14},"end":{"line":279,"column":26}},{"start":{"line":280,"column":14},"end":{"line":282,"column":22}},{"start":{"line":283,"column":14},"end":{"line":285,"column":22}},{"start":{"line":286,"column":14},"end":{"line":288,"column":22}},{"start":{"line":289,"column":14},"end":{"line":291,"column":22}},{"start":{"line":292,"column":14},"end":{"line":293,"column":22}},{"start":{"line":294,"column":14},"end":{"line":295,"column":22}},{"start":{"line":296,"column":14},"end":{"line":297,"column":22}},{"start":{"line":298,"column":14},"end":{"line":299,"column":22}},{"start":{"line":300,"column":14},"end":{"line":303,"column":22}}]}},"code":["//All references to a Firebase share the same authentication status,","//so if you call new Firebase() twice and call any authentication method","//on one of them, they will both be authenticated.","module.exports = function (RED) {","    'use strict';","    var Firebase = require('firebase');","    var FirebaseTokenGenerator = require(\"firebase-token-generator\");","    var events = require(\"events\");","    var path = require(\"path\");","    var https = require(\"follow-redirects\").https;","    var urllib = require(\"url\");","    // var async = require(\"async\")","","    function generateUID(){","      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) { //Generates a random RequestID","          var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);","          return v.toString(16);","      });","    }","","    // Firebase Full Authentication Error Listing - https://www.firebase.com/docs/web/guide/user-auth.html#section-full-error","    // AUTHENTICATION_DISABLED\tThe requested authentication provider is disabled for this Firebase.","    // EMAIL_TAKEN\tThe new user account cannot be created because the specified email address is already in use.","    // INVALID_ARGUMENTS\tThe specified credentials are malformed or incomplete. Please refer to the error message, error details, and Firebase documentation for the required arguments for authenticating with this provider.","    // INVALID_CONFIGURATION\tThe requested authentication provider is misconfigured, and the request cannot complete. Please confirm that the provider's client ID and secret are correct in your Firebase Dashboard and the app is properly set up on the provider's website.","    // INVALID_CREDENTIALS\tThe specified authentication credentials are invalid. This may occur when credentials are malformed or expired.","    // INVALID_EMAIL\tThe specified email is not a valid email.","    // INVALID_ORIGIN\tA security error occurred while processing the authentication request. The web origin for the request is not in your list of approved request origins. To approve this origin, visit the Login & Auth tab in your Firebase dashboard.","    // INVALID_PASSWORD\tThe specified user account password is incorrect.","    // INVALID_PROVIDER\tThe requested authentication provider does not exist. Please consult the Firebase authentication documentation for a list of supported providers.","    // INVALID_TOKEN\tThe specified authentication token is invalid. This can occur when the token is malformed, expired, or the Firebase secret that was used to generate it has been revoked.","    // INVALID_USER\tThe specified user account does not exist.","    // NETWORK_ERROR\tAn error occurred while attempting to contact the authentication server.","    // PROVIDER_ERROR\tA third-party provider error occurred. Please refer to the error message and error details for more information.","    // TRANSPORT_UNAVAILABLE\tThe requested login method is not available in the user's browser environment. Popups are not available in Chrome for iOS, iOS Preview Panes, or local, file:// URLs. Redirects are not available in PhoneGap / Cordova, or local, file:// URLs.","    // UNKNOWN_ERROR\tAn unknown error occurred. Please refer to the error message and error details for more information.","    // USER_CANCELLED\tThe current authentication request was cancelled by the user.","    // USER_DENIED\tThe user did not authorize the application. This error can occur when the user has cancelled an OAuth authentication request.","","    //TODO: Where is the full Firebase Error listing for .set(), etc.?","","    //connectionPool is responsible for managing Firebase Connections, Authentication, etc.","    //connectionPool emits the following events:","      //initializing","      //connected","      //disconnected","      //authorized","      //unauthorized","      //error //TODO: need to wrap everything in a try/catch to make sure we don't ever crash node-red","      //closed","    var connectionPool = function(){  //TODO: This could probably be refactored to be a bit simpler now...","      var connections = {}","","      return {","        get: function(firebaseurl, configNodeID){","          if(!connections[configNodeID]){ //Lazily create a new Firebase Reference if it does not exist","","            connections[configNodeID] = function(){","","              //Private","              var _emitter = new events.EventEmitter();","              var _emit = function(a,b){","                //console.log(firebaseurl + \" - emitting \" + a)","                if(this.lastEvent == a && this.lastEventData == b){","                  //console.log(\"ignoring duplicate emit event \" + a)","                  return","                }","","                this.lastEvent = a;","                this.lastEventData = b;","","                _emitter.emit(a,b)","              }","","","              var obj = {","                Firebase: Firebase,  //Needed for Firebase.ServerValue.TIMESTAMP...","","                firebaseurl: firebaseurl,  //TODO: Some of this data is duplicated...","                fbRef: new Firebase(firebaseurl, configNodeID), //Including a second argument is a hack which allows us to have multiple auths connected to the same Firebase - see https://github.com/deldrid1/node-red-contrib-firebase/issues/3","                authData: null, //TODO: Some of this data is duplicated...","                loginType: null,","                secret: null,","                passORuid: null,  //TODO: Probably should clean this up similair to the config node to make it less confusing what is going on...","                nodeCount: 0,","                lastEvent: \"initializing\",","                lastEventData: null,","                httpRequests: {},","","                on: function(a,b) { _emitter.on(a,b); },","                once: function(a,b) { _emitter.once(a,b); },","","                authorize: function(loginType, secret, passORuid, jwtClaims){","                  //console.log(\"Attempting to authorize with loginType=\"+loginType+\" with secret=\"+secret+\" and pass/uid=\"+passORuid)","","                  if(this.loginType && this.authData){","                    this.authData = null","                    this.fbRef.offAuth(this.onAuth, this);","                    this.fbRef.unauth();","                    _emit(\"unauthorized\");","                  }","","                  this.loginType = loginType","                  this.secret = secret","                  this.passORuid = passORuid","","                  switch (loginType) {","                      case 'none':","                          process.nextTick(function(){","                            _emit(\"authorized\", null)","                          }.bind(this));","                          break;","                      case 'jwt':","                          this.fbRef.authWithCustomToken(secret, this.onLoginAuth.bind(this))","                          this.fbRef.onAuth(this.onAuth, this);","                          break;","                      case 'anonymous':","                          this.fbRef.authAnonymously(this.onLoginAuth.bind(this));","                          this.fbRef.onAuth(this.onAuth, this);","                          break;","                      case 'customGenerated':","                            var tokenGenerator = new FirebaseTokenGenerator(secret);","                            // expires (Number) - A timestamp (as number of seconds since the epoch) denoting the time after which this token should no longer be valid.","                            // notBefore (Number) - A timestamp (as number of seconds since the epoch) denoting the time before which this token should be rejected by the server.","                            // admin (Boolean) - Set to true if you want to disable all security rules for this client. This will provide the client with read and write access to your entire Firebase.","                            // debug (Boolean) - Set to true to enable debug output from your security rules. This debug output will be automatically output to the JavaScript console. You should generally not leave this set to true in production (as it slows down the rules implementation and gives your users visibility into your rules), but it can be helpful for debugging.","                            var tokenArgs = {uid: passORuid, generator: \"node-red\"}","                            for(var i = 0; i < jwtClaims.length; i++)","                              tokenArgs[jwtClaims[i].key] = jwtClaims[i].value","","                            var token = tokenGenerator.createToken(tokenArgs);","","                            this.fbRef.authWithCustomToken(token, this.onLoginAuth.bind(this))","                            this.fbRef.onAuth(this.onAuth, this);","                            break;","","                      case 'email':","                          this.fbRef.authWithPassword({","                              email: secret,","                              password: passORuid","                            }, this.onLoginAuth.bind(this))","","                          this.fbRef.onAuth(this.onAuth, this);","                          break;","                      // default:","                      //   console.log(\"ERROR: Invalid loginType in firebase \" + this.firebaseurl + \" config - \" + this.loginType)","                      //   this.status({fill:\"red\", shape:\"ring\", text:\"invalid loginType\"})","                      //   break;","                  }","                },","","","                //Note, connected and disconnected can happen without our auth status changing...","                onConnectionStatusChange: function(snap){","                  //var obj = connections[snap.ref().parent().parent().toString()]  //Not the most elegant, but it works","                  if (snap.val() === true) {","                    if(this.lastEvent != \"authorized\")//TODO: BUG: there is some kind of sequencing bug that can cause connected to be set to true after we have already emitted that authorized is true.  This is patch for that issue but we really should ge tht execution order correct...","                      _emit(\"connected\")","                  } else {","                    _emit(\"disconnected\")","                  }","                },","","                //However, it looks like with our current setup auth will get re-emitted after we reconnect.","                onAuth: function(authData){","                  if(authData){","                    _emit(\"authorized\", authData)","                  } else {","                    if(this.authData){","                      var now = new Date()","                      var authExpiration = new Date(this.authData.expires*1000)","","                      if(authExpiration.getTime()-10000 <= now.getTime()){  //TODO: Do some research on this, we are subtracting 10 seconds - Firebase gets a little greedy with expirations (perhaps this is because of clock differences and network latencies?)","                        //Auth has expired - need to reauthorize","                        console.log(\"auth has expired - attempting single shot reauthentication\")","                        this.authorize(this.loginType, this.secret, this.passORuid) //Single Shot Reauth attempt","                      }","                    }","                    _emit(\"unauthorized\");","                  }","","                  this.authData = authData","                },","","                onLoginAuth: function(error, authData) {","                  if (error) {","                    // switch (error.code) {","                    //   case \"INVALID_EMAIL\":","                    //     error = \"The specified user account email is invalid.\";","                    //     break;","                    //   case \"INVALID_PASSWORD\":","                    //     error = \"The specified user account password is incorrect.\";","                    //     break;","                    //   case \"INVALID_USER\":","                    //     error = \"The specified user account does not exist.\";","                    //     break;","                    //   default:","                    //     error = \"Error logging user in: \" + error.toString();","                    // }","                    _emit(\"error\", error.code);  //TODO: evaluate being verbose vs. using the error.code...","                  } //else //onAuth handles success conditions","                      //console.log(\"onLoginAuth Success: Logged into  \" + this.firebaseurl + \" as \" + JSON.stringify(authData))","                },","","                close: function(){","                  _emit(\"closed\")","                  _emitter.removeAllListeners();  //Makes sure everybody stopped listening to us... //TODO: This may prevent nodes from receiving the \"closed\" event...","","                  //Clean up the Firebase Reference and tear down the connection","","                  this.fbRef.child(\".info/connected\").off(\"value\", obj.onConnectionStatusChange, obj);","","                  if(this.loginType){","                    this.fbRef.offAuth(obj.onAuth, obj);","                    this.fbRef.unauth();","                  }","                }","              }","","","","              //Set \"this\" in our private functions","              _emit = _emit.bind(obj);","              _emitter.setMaxListeners(0);  //Suppress Memory Leak warnings, 0 means unlimited listeners","              process.nextTick(function(){","                _emitter.emit(\"initializing\");  //_emit would suppress this because of the default value...","                obj.fbRef.child(\".info/connected\").on(\"value\", obj.onConnectionStatusChange, obj);","              }.bind(obj))","","              return obj;","            }();","          }","","          connections[configNodeID].nodeCount++;","","          return connections[configNodeID]","        },","","        close: function(configNodeID){","          var obj = connections[configNodeID]","","          obj.nodeCount--","","          if(obj.nodeCount == 0){","            obj.close()","","            delete connections[configNodeID]","            //TODO: BUG: there is not way to do close/kill a connection with the current Firebase Library.  It is a low priority for them but is scheduled for release middle of 2015...    http://stackoverflow.com/questions/27641764/how-to-destroy-firebase-ref-in-node","          }","        }","      }","    }();","","    function FirebaseConfig(n) {","        RED.nodes.createNode(this, n);","","        // this.log(JSON.stringify(n, null, \"\\t\"))","        // this.log(JSON.stringify(this, null, \"\\t\"))","","        //TODO: Input validation on the server (we are doing it on the client but not doing anything here...)","        this.firebaseurl = \"https://\" + n.firebaseurl + \".firebaseio.com\";","        this.loginType = n.loginType;","        this.uid = this.credentials.uid;","        this.secret = this.credentials.secret;","        this.email = this.credentials.email;","        this.password = this.credentials.password;","        this.jwtClaims = JSON.parse(this.credentials.jwtClaims != undefined ? this.credentials.jwtClaims : \"[]\");","","        this.fbConnection = connectionPool.get(this.firebaseurl, this.id)","","        this.fbConnection.on(\"initializing\", function(){","          // this.log(\"initializing to \" + this.firebaseurl)","          this.status({fill:\"grey\", shape:\"ring\", text:\"initializing...\"})","        }.bind(this))","","        this.fbConnection.on(\"connected\", function(){","          // this.log(\"connected to \" + this.firebaseurl)","          switch (this.loginType) {","              case 'none':","              case 'anonymous':","                this.fbConnection.authorize(this.loginType);","                break;","              case 'jwt':  //TODO:","                this.fbConnection.authorize(this.loginType, this.secret);","                break;","              case 'email':","                this.fbConnection.authorize(this.loginType, this.email, this.password);","                break;","              case 'customGenerated':","              this.fbConnection.authorize(this.loginType, this.secret, this.uid, this.jwtClaims);","                break;","              case 'facebook': //TODO:","                break;","              case 'twitter': //TODO:","                break;","              case 'github': //TODO:","                break;","              case 'google': //TODO:","                break;","              default:","                this.error(\"Invalid loginType in firebase \" + this.firebaseurl + \" config - \" + this.loginType, {})","                this.status({fill:\"red\", shape:\"ring\", text:\"invalid loginType\"})","                break;","          }","          this.status({fill:\"green\", shape:\"ring\", text:\"connected\"})","        }.bind(this))","","        this.fbConnection.on(\"disconnected\", function(){","          // this.log(\"disconnected from \" + this.firebaseurl)","          this.status({fill:\"red\", shape:\"ring\", text:\"disconnected\"})","        }.bind(this))","","        this.fbConnection.on(\"authorized\", function(authData){","          // this.log(\"authorized to \" + this.firebaseurl + (authData ? \" as \" + JSON.stringify(authData) : \" without auth\"))","        }.bind(this))","","        this.fbConnection.on(\"unauthorized\", function(){","          // this.log(\"unauthorized from \" + this.firebaseurl)","          this.status({fill:\"red\", shape:\"dot\", text:\"unauthorized\"})","        }.bind(this))","","        this.fbConnection.on(\"error\", function(error){","          // this.log(\"error [\" + this.firebaseurl + \"] - \" + error)","          this.status({fill:\"red\", shape:\"ring\", text:error})","          this.error(JSON.stringify(error), error);//TODO: BUG: Config nodes have no where to pass there second error param...","        }.bind(this))","","        // this.on('input', function(msg) { //Meaningless in a Config Node","        //     // do something with 'msg'","        // });","","        //this.send({payload: \"hi\"})  //Also meaningless for Config Nodes","","        this.on('close', function() {","            this.status({fill: \"gray\", shape: \"dot\", text:\"connection closed\"})","            // We need to unbind our callback, or we'll get duplicate messages when we redeploy","            connectionPool.close(this.id)","        });","    }","","    RED.nodes.registerType('firebase config', FirebaseConfig, {","      credentials: {","          loginType: {type: 'text'},","          uid: {type: 'text'},","          secret: {type: 'password'},","          email: {type: 'text'},","          password: {type: 'password'},","          jwtClaims: {type: 'text'}","      }","    });","}",""],"l":{"4":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"14":1,"15":0,"16":0,"17":0,"51":0,"52":0,"54":0,"56":0,"58":0,"61":0,"62":0,"64":0,"66":0,"69":0,"70":0,"72":0,"76":0,"90":0,"91":0,"96":0,"97":0,"98":0,"99":0,"100":0,"103":0,"104":0,"105":0,"107":0,"109":0,"110":0,"112":0,"114":0,"115":0,"116":0,"118":0,"119":0,"120":0,"122":0,"127":0,"128":0,"129":0,"131":0,"133":0,"134":0,"135":0,"138":0,"143":0,"144":0,"156":0,"157":0,"158":0,"160":0,"166":0,"167":0,"169":0,"170":0,"171":0,"173":0,"175":0,"176":0,"179":0,"182":0,"186":0,"200":0,"206":0,"207":0,"211":0,"213":0,"214":0,"215":0,"223":0,"224":0,"225":0,"226":0,"227":0,"230":0,"234":0,"236":0,"240":0,"242":0,"244":0,"245":0,"247":0,"254":1,"255":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"269":0,"271":0,"273":0,"276":0,"278":0,"281":0,"282":0,"284":0,"285":0,"287":0,"288":0,"290":0,"291":0,"293":0,"295":0,"297":0,"299":0,"301":0,"302":0,"303":0,"305":0,"308":0,"310":0,"313":0,"317":0,"319":0,"322":0,"324":0,"325":0,"334":0,"335":0,"337":0,"341":0}},"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_modify.js":{"path":"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_modify.js","s":{"1":1,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0,0,0,0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0,0,0,0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":31}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":32},"end":{"line":4,"column":43}}},"3":{"name":"FirebaseModify","line":8,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":29}}},"4":{"name":"(anonymous_4)","line":36,"loc":{"start":{"line":36,"column":26},"end":{"line":36,"column":42}}},"5":{"name":"(anonymous_5)","line":50,"loc":{"start":{"line":50,"column":28},"end":{"line":50,"column":38}}},"6":{"name":"(anonymous_6)","line":55,"loc":{"start":{"line":55,"column":25},"end":{"line":55,"column":35}}},"7":{"name":"(anonymous_7)","line":60,"loc":{"start":{"line":60,"column":28},"end":{"line":60,"column":38}}},"8":{"name":"(anonymous_8)","line":65,"loc":{"start":{"line":65,"column":26},"end":{"line":65,"column":44}}},"9":{"name":"(anonymous_9)","line":70,"loc":{"start":{"line":70,"column":28},"end":{"line":70,"column":38}}},"10":{"name":"(anonymous_10)","line":75,"loc":{"start":{"line":75,"column":21},"end":{"line":75,"column":36}}},"11":{"name":"(anonymous_11)","line":79,"loc":{"start":{"line":79,"column":22},"end":{"line":79,"column":37}}},"12":{"name":"(anonymous_12)","line":113,"loc":{"start":{"line":113,"column":23},"end":{"line":113,"column":37}}},"13":{"name":"(anonymous_13)","line":211,"loc":{"start":{"line":211,"column":23},"end":{"line":211,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":217,"column":2}},"2":{"start":{"line":4,"column":2},"end":{"line":6,"column":3}},"3":{"start":{"line":5,"column":6},"end":{"line":5,"column":58}},"4":{"start":{"line":8,"column":2},"end":{"line":215,"column":3}},"5":{"start":{"line":9,"column":6},"end":{"line":9,"column":35}},"6":{"start":{"line":11,"column":6},"end":{"line":11,"column":56}},"7":{"start":{"line":12,"column":6},"end":{"line":12,"column":35}},"8":{"start":{"line":13,"column":6},"end":{"line":13,"column":27}},"9":{"start":{"line":14,"column":6},"end":{"line":14,"column":29}},"10":{"start":{"line":15,"column":6},"end":{"line":15,"column":33}},"11":{"start":{"line":16,"column":6},"end":{"line":16,"column":27}},"12":{"start":{"line":18,"column":6},"end":{"line":18,"column":25}},"13":{"start":{"line":20,"column":6},"end":{"line":27,"column":7}},"14":{"start":{"line":30,"column":6},"end":{"line":34,"column":7}},"15":{"start":{"line":31,"column":10},"end":{"line":31,"column":77}},"16":{"start":{"line":32,"column":10},"end":{"line":32,"column":64}},"17":{"start":{"line":33,"column":10},"end":{"line":33,"column":16}},"18":{"start":{"line":36,"column":6},"end":{"line":46,"column":19}},"19":{"start":{"line":38,"column":10},"end":{"line":38,"column":43}},"20":{"start":{"line":40,"column":10},"end":{"line":45,"column":11}},"21":{"start":{"line":41,"column":12},"end":{"line":41,"column":55}},"22":{"start":{"line":42,"column":12},"end":{"line":42,"column":73}},"23":{"start":{"line":44,"column":11},"end":{"line":44,"column":25}},"24":{"start":{"line":50,"column":6},"end":{"line":53,"column":18}},"25":{"start":{"line":51,"column":8},"end":{"line":51,"column":72}},"26":{"start":{"line":52,"column":8},"end":{"line":52,"column":27}},"27":{"start":{"line":55,"column":6},"end":{"line":58,"column":18}},"28":{"start":{"line":56,"column":8},"end":{"line":56,"column":67}},"29":{"start":{"line":57,"column":8},"end":{"line":57,"column":27}},"30":{"start":{"line":60,"column":6},"end":{"line":63,"column":18}},"31":{"start":{"line":61,"column":8},"end":{"line":61,"column":68}},"32":{"start":{"line":62,"column":8},"end":{"line":62,"column":27}},"33":{"start":{"line":65,"column":6},"end":{"line":68,"column":18}},"34":{"start":{"line":66,"column":8},"end":{"line":66,"column":62}},"35":{"start":{"line":67,"column":8},"end":{"line":67,"column":26}},"36":{"start":{"line":70,"column":6},"end":{"line":73,"column":18}},"37":{"start":{"line":71,"column":8},"end":{"line":71,"column":67}},"38":{"start":{"line":72,"column":8},"end":{"line":72,"column":27}},"39":{"start":{"line":75,"column":6},"end":{"line":77,"column":18}},"40":{"start":{"line":76,"column":8},"end":{"line":76,"column":59}},"41":{"start":{"line":79,"column":6},"end":{"line":82,"column":18}},"42":{"start":{"line":80,"column":8},"end":{"line":80,"column":75}},"43":{"start":{"line":81,"column":8},"end":{"line":81,"column":27}},"44":{"start":{"line":86,"column":6},"end":{"line":86,"column":70}},"45":{"start":{"line":87,"column":6},"end":{"line":87,"column":64}},"46":{"start":{"line":88,"column":6},"end":{"line":88,"column":70}},"47":{"start":{"line":89,"column":6},"end":{"line":89,"column":66}},"48":{"start":{"line":90,"column":6},"end":{"line":90,"column":70}},"49":{"start":{"line":91,"column":6},"end":{"line":91,"column":56}},"50":{"start":{"line":92,"column":6},"end":{"line":92,"column":58}},"51":{"start":{"line":95,"column":6},"end":{"line":110,"column":7}},"52":{"start":{"line":103,"column":10},"end":{"line":103,"column":110}},"53":{"start":{"line":104,"column":10},"end":{"line":104,"column":16}},"54":{"start":{"line":109,"column":10},"end":{"line":109,"column":99}},"55":{"start":{"line":113,"column":6},"end":{"line":208,"column":9}},"56":{"start":{"line":114,"column":8},"end":{"line":207,"column":9}},"57":{"start":{"line":119,"column":10},"end":{"line":119,"column":34}},"58":{"start":{"line":120,"column":10},"end":{"line":127,"column":11}},"59":{"start":{"line":121,"column":12},"end":{"line":126,"column":13}},"60":{"start":{"line":122,"column":14},"end":{"line":122,"column":33}},"61":{"start":{"line":124,"column":14},"end":{"line":124,"column":75}},"62":{"start":{"line":125,"column":14},"end":{"line":125,"column":21}},"63":{"start":{"line":130,"column":10},"end":{"line":130,"column":33}},"64":{"start":{"line":131,"column":10},"end":{"line":150,"column":11}},"65":{"start":{"line":132,"column":12},"end":{"line":148,"column":13}},"66":{"start":{"line":133,"column":14},"end":{"line":145,"column":15}},"67":{"start":{"line":134,"column":16},"end":{"line":134,"column":36}},"68":{"start":{"line":135,"column":16},"end":{"line":141,"column":17}},"69":{"start":{"line":136,"column":18},"end":{"line":140,"column":19}},"70":{"start":{"line":137,"column":20},"end":{"line":137,"column":45}},"71":{"start":{"line":139,"column":20},"end":{"line":139,"column":51}},"72":{"start":{"line":143,"column":16},"end":{"line":143,"column":112}},"73":{"start":{"line":144,"column":16},"end":{"line":144,"column":29}},"74":{"start":{"line":146,"column":19},"end":{"line":148,"column":13}},"75":{"start":{"line":147,"column":14},"end":{"line":147,"column":77}},"76":{"start":{"line":149,"column":12},"end":{"line":149,"column":32}},"77":{"start":{"line":153,"column":10},"end":{"line":153,"column":30}},"78":{"start":{"line":154,"column":10},"end":{"line":166,"column":11}},"79":{"start":{"line":155,"column":12},"end":{"line":155,"column":37}},"80":{"start":{"line":156,"column":12},"end":{"line":165,"column":13}},"81":{"start":{"line":157,"column":14},"end":{"line":157,"column":76}},"82":{"start":{"line":158,"column":14},"end":{"line":158,"column":21}},"83":{"start":{"line":159,"column":19},"end":{"line":165,"column":13}},"84":{"start":{"line":160,"column":14},"end":{"line":164,"column":15}},"85":{"start":{"line":160,"column":37},"end":{"line":160,"column":61}},"86":{"start":{"line":162,"column":16},"end":{"line":162,"column":79}},"87":{"start":{"line":163,"column":16},"end":{"line":163,"column":23}},"88":{"start":{"line":169,"column":10},"end":{"line":169,"column":40}},"89":{"start":{"line":170,"column":10},"end":{"line":174,"column":11}},"90":{"start":{"line":171,"column":12},"end":{"line":173,"column":13}},"91":{"start":{"line":172,"column":14},"end":{"line":172,"column":39}},"92":{"start":{"line":175,"column":10},"end":{"line":175,"column":38}},"93":{"start":{"line":177,"column":10},"end":{"line":204,"column":11}},"94":{"start":{"line":180,"column":14},"end":{"line":180,"column":39}},"95":{"start":{"line":181,"column":14},"end":{"line":181,"column":113}},"96":{"start":{"line":182,"column":14},"end":{"line":182,"column":20}},"97":{"start":{"line":184,"column":14},"end":{"line":184,"column":86}},"98":{"start":{"line":185,"column":14},"end":{"line":185,"column":41}},"99":{"start":{"line":186,"column":14},"end":{"line":186,"column":39}},"100":{"start":{"line":187,"column":14},"end":{"line":187,"column":69}},"101":{"start":{"line":188,"column":14},"end":{"line":188,"column":20}},"102":{"start":{"line":190,"column":14},"end":{"line":190,"column":39}},"103":{"start":{"line":191,"column":14},"end":{"line":191,"column":100}},"104":{"start":{"line":192,"column":14},"end":{"line":192,"column":20}},"105":{"start":{"line":194,"column":14},"end":{"line":194,"column":39}},"106":{"start":{"line":195,"column":14},"end":{"line":195,"column":110}},"107":{"start":{"line":196,"column":14},"end":{"line":196,"column":20}},"108":{"start":{"line":198,"column":14},"end":{"line":198,"column":39}},"109":{"start":{"line":199,"column":14},"end":{"line":199,"column":123}},"110":{"start":{"line":200,"column":14},"end":{"line":200,"column":20}},"111":{"start":{"line":202,"column":14},"end":{"line":202,"column":173}},"112":{"start":{"line":203,"column":14},"end":{"line":203,"column":20}},"113":{"start":{"line":206,"column":10},"end":{"line":206,"column":126}},"114":{"start":{"line":211,"column":6},"end":{"line":213,"column":9}},"115":{"start":{"line":216,"column":2},"end":{"line":216,"column":60}}},"branchMap":{"1":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":6},"end":{"line":30,"column":6}},{"start":{"line":30,"column":6},"end":{"line":30,"column":6}}]},"2":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":10},"end":{"line":40,"column":10}},{"start":{"line":40,"column":10},"end":{"line":40,"column":10}}]},"3":{"line":95,"type":"switch","locations":[{"start":{"line":96,"column":8},"end":{"line":96,"column":28}},{"start":{"line":97,"column":8},"end":{"line":97,"column":25}},{"start":{"line":98,"column":8},"end":{"line":98,"column":28}},{"start":{"line":99,"column":8},"end":{"line":99,"column":26}},{"start":{"line":100,"column":8},"end":{"line":100,"column":28}},{"start":{"line":101,"column":8},"end":{"line":101,"column":21}},{"start":{"line":102,"column":8},"end":{"line":104,"column":16}},{"start":{"line":108,"column":8},"end":{"line":109,"column":99}}]},"4":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"5":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":10},"end":{"line":120,"column":10}},{"start":{"line":120,"column":10},"end":{"line":120,"column":10}}]},"6":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":12},"end":{"line":121,"column":12}},{"start":{"line":121,"column":12},"end":{"line":121,"column":12}}]},"7":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":10},"end":{"line":131,"column":10}},{"start":{"line":131,"column":10},"end":{"line":131,"column":10}}]},"8":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":12},"end":{"line":132,"column":12}},{"start":{"line":132,"column":12},"end":{"line":132,"column":12}}]},"9":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":14},"end":{"line":133,"column":14}},{"start":{"line":133,"column":14},"end":{"line":133,"column":14}}]},"10":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":16},"end":{"line":135,"column":16}},{"start":{"line":135,"column":16},"end":{"line":135,"column":16}}]},"11":{"line":135,"type":"binary-expr","locations":[{"start":{"line":135,"column":20},"end":{"line":135,"column":43}},{"start":{"line":135,"column":47},"end":{"line":135,"column":71}}]},"12":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":19},"end":{"line":146,"column":19}},{"start":{"line":146,"column":19},"end":{"line":146,"column":19}}]},"13":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":10},"end":{"line":154,"column":10}},{"start":{"line":154,"column":10},"end":{"line":154,"column":10}}]},"14":{"line":154,"type":"binary-expr","locations":[{"start":{"line":154,"column":14},"end":{"line":154,"column":37}},{"start":{"line":154,"column":41},"end":{"line":154,"column":68}}]},"15":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":12},"end":{"line":156,"column":12}},{"start":{"line":156,"column":12},"end":{"line":156,"column":12}}]},"16":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":19},"end":{"line":159,"column":19}},{"start":{"line":159,"column":19},"end":{"line":159,"column":19}}]},"17":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":14},"end":{"line":160,"column":14}},{"start":{"line":160,"column":14},"end":{"line":160,"column":14}}]},"18":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":10},"end":{"line":170,"column":10}},{"start":{"line":170,"column":10},"end":{"line":170,"column":10}}]},"19":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":12},"end":{"line":171,"column":12}},{"start":{"line":171,"column":12},"end":{"line":171,"column":12}}]},"20":{"line":175,"type":"binary-expr","locations":[{"start":{"line":175,"column":22},"end":{"line":175,"column":31}},{"start":{"line":175,"column":35},"end":{"line":175,"column":38}}]},"21":{"line":177,"type":"switch","locations":[{"start":{"line":178,"column":12},"end":{"line":178,"column":23}},{"start":{"line":179,"column":12},"end":{"line":182,"column":20}},{"start":{"line":183,"column":12},"end":{"line":188,"column":20}},{"start":{"line":189,"column":12},"end":{"line":192,"column":20}},{"start":{"line":193,"column":12},"end":{"line":196,"column":20}},{"start":{"line":197,"column":12},"end":{"line":200,"column":20}},{"start":{"line":201,"column":12},"end":{"line":203,"column":20}}]}},"code":["module.exports = function(RED) {","  'use strict';","","  String.prototype.capitalize = function() {","      return this.charAt(0).toUpperCase() + this.slice(1);","  }","","  function FirebaseModify(n) {","      RED.nodes.createNode(this,n);","","      this.config = RED.nodes.getNode(n.firebaseconfig);","      this.childpath = n.childpath;","      this.value = n.value;","      this.method = n.method;","      this.priority = n.priority;","      this.fbRequests = [];","","      this.ready = false;","","      this.validMethods = {","        \"set\": true,","        \"update\": true,","        \"push\": true,","        \"remove\": true,","    \t\t\"setPriority\": true,","    \t\t\"setWithPriority\": true","      }","","      // Check credentials","      if (!this.config) {","          this.status({fill:\"red\", shape:\"ring\", text:\"invalid credentials\"})","          this.error('You need to setup Firebase credentials!');","          return","      }","","      this.fbOnComplete = function(error) {","          //this.log(\"fb oncomplete.  error = \" + error)","          var msg = this.fbRequests.shift() //Firebase will call these in order for us","          //TODO: Once Node-Red supports it, we should flash the Node when we receive this data.","          if(error){","            this.log(\"firebase synchronization failed\")","            this.error(\"firebase synchronization failed - \" + error, msg)","          } else {","          \tthis.send(msg)","          }","      }.bind(this);","","","      //this.config.fbConnection EventEmitter Handlers","      this.fbInitializing = function(){  //This isn't being called because its emitted too early...","        this.status({fill:\"grey\", shape:\"ring\", text:\"initializing...\"})","        this.ready = false;","      }.bind(this)","","      this.fbConnected = function(){","        this.status({fill:\"green\", shape:\"ring\", text:\"connected\"})","        this.ready = false;","      }.bind(this)","","      this.fbDisconnected = function(){","        this.status({fill:\"red\", shape:\"ring\", text:\"disconnected\"})","        this.ready = false;","      }.bind(this)","","      this.fbAuthorized = function(authData){","        this.status({fill:\"green\", shape:\"dot\", text:\"ready\"})","        this.ready = true;","      }.bind(this)","","      this.fbUnauthorized = function(){","        this.status({fill:\"red\", shape:\"dot\", text:\"unauthorized\"})","        this.ready = false;","      }.bind(this)","","      this.fbError = function(error){","        this.status({fill:\"red\", shape:\"ring\", text:error})","      }.bind(this)","","      this.fbClosed = function(error){","        this.status({fill: \"gray\", shape: \"dot\", text:\"connection closed\"})","        this.ready = false;","      }.bind(this)","","","      //Register Handlers","      this.config.fbConnection.on(\"initializing\", this.fbInitializing)","      this.config.fbConnection.on(\"connected\", this.fbConnected)","      this.config.fbConnection.on(\"disconnected\", this.fbDisconnected)","      this.config.fbConnection.on(\"authorized\", this.fbAuthorized)","      this.config.fbConnection.on(\"unauthorized\", this.fbUnauthorized)","      this.config.fbConnection.on(\"error\", this.fbError)","      this.config.fbConnection.on(\"closed\", this.fbClosed)","","      //set initial state (depending on the deployment strategy, for newly deployed nodes, some of the events may not be refired...)","      switch(this.config.fbConnection.lastEvent) {","        case \"initializing\":","        case \"connected\":","        case \"disconnected\":","        case \"authorized\":","        case \"unauthorized\":","        case \"error\":","        case \"closed\":","          this[\"fb\" + this.config.fbConnection.lastEvent.capitalize()](this.config.fbConnection.lastEventData)  //Javascript is really friendly about sending arguments to functions...","          break;","        // case \"undefined\":","        // case \"null\":","        //   break;  //Config node not yet setup","        default:","          this.error(\"Bad lastEvent Data from Config Node - \" + this.config.fbConnection.lastEvent)","      }","","","      this.on('input', function(msg) {","        if(this.ready){","","          //TODO: this seems to be mostly working, but we really ought to do some more due diligence here...","          //Try to convert to JSON object...","          //Parse out msg.method","          var method = this.method","          if(method == \"msg.method\"){","            if(\"method\" in msg){","              method = msg.method","            } else {","              this.error(\"Expected \\\"method\\\" property in msg object\", msg)","              return;","            }","          }","","          //Parse out msg.payload","          var value = this.value;","          if (method != \"setPriority\"){","            if (value == \"msg.payload\"){","              if (\"payload\" in msg){","                value = msg.payload;","                if (!Buffer.isBuffer(value) && typeof value != \"object\"){","                  try {","                    value = JSON.parse(value)","                  } catch(e){","                    value = msg.payload.toString();","                  }","                }","              } else {","                this.warn(\"Expected \\\"payload\\\" property not in msg object (setting payload to \\\"null\\\")\", msg);","                value = null;","              }","            } else if(this.value == \"Firebase.ServerValue.TIMESTAMP\") {","              value = this.config.fbConnection.Firebase.ServerValue.TIMESTAMP","            }","            msg.payload = value;","          }","","          //Parse out msg.priority","          var priority = null;","          if (method == \"setPriority\" || method == \"setWithPriority\"){","            priority = this.priority;","            if (priority == null){","              this.error(\"Expected \\\"priority\\\" property not included\", msg)","              return;","            } else if (priority == \"msg.priority\"){","              if (\"priority\" in msg) priority = msg.priority;","              else {","                this.error(\"Expected \\\"priority\\\" property in msg object\", msg)","                return;","              }","            }","          }","","          //Parse out msg.childpath","          var childpath = this.childpath","          if(childpath == \"msg.childpath\"){","            if(\"childpath\" in msg){","              childpath = msg.childpath","            }","          }","          childpath = childpath || \"/\"","","          switch (method){","            case \"set\":","            case \"update\":","              this.fbRequests.push(msg)","              this.config.fbConnection.fbRef.child(childpath)[method](msg.payload, this.fbOnComplete.bind(this)); //TODO: Why doesn't the Firebase API support passing a context to these calls?","              break;","            case \"push\":","              var pushRef = this.config.fbConnection.fbRef.child(childpath)[method]();","              msg.pushID = pushRef.key();","              this.fbRequests.push(msg)","              pushRef.set(msg.payload, this.fbOnComplete.bind(this)); //TODO: Why doesn't the Firebase API support passing a context to these calls?","              break;","            case \"remove\":","              this.fbRequests.push(msg)","              this.config.fbConnection.fbRef.child(childpath)[method](this.fbOnComplete.bind(this));","              break;","            case \"setPriority\":","              this.fbRequests.push(msg)","              this.config.fbConnection.fbRef.child(childpath)[method](priority, this.fbOnComplete.bind(this));","              break;","            case \"setWithPriority\":","              this.fbRequests.push(msg)","              this.config.fbConnection.fbRef.child(childpath)[method](msg.payload, priority, this.fbOnComplete.bind(this));","              break;","            default:","              this.error(\"Invalid msg.method property \\\"\" + method + \"\\\".  Expected one of the following: [\\\"\" + Object.keys(this.validMethods).join(\"\\\", \\\"\") + \"\\\"].\", msg)","              break;","          }","        } else {","          this.warn(\"Received msg before firebase modify node was ready.  Not processing: \" + JSON.stringify(msg, null, \"\\t\"))","        }","      });","","","      this.on('close', function() {","        //Cancel modify request to firebase??","      });","","  }","  RED.nodes.registerType(\"firebase modify\", FirebaseModify);","};",""],"l":{"1":1,"4":0,"5":0,"8":1,"9":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"18":0,"20":0,"30":0,"31":0,"32":0,"33":0,"36":0,"38":0,"40":0,"41":0,"42":0,"44":0,"50":0,"51":0,"52":0,"55":0,"56":0,"57":0,"60":0,"61":0,"62":0,"65":0,"66":0,"67":0,"70":0,"71":0,"72":0,"75":0,"76":0,"79":0,"80":0,"81":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"95":0,"103":0,"104":0,"109":0,"113":0,"114":0,"119":0,"120":0,"121":0,"122":0,"124":0,"125":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"139":0,"143":0,"144":0,"146":0,"147":0,"149":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"162":0,"163":0,"169":0,"170":0,"171":0,"172":0,"175":0,"177":0,"180":0,"181":0,"182":0,"184":0,"185":0,"186":0,"187":0,"188":0,"190":0,"191":0,"192":0,"194":0,"195":0,"196":0,"198":0,"199":0,"200":0,"202":0,"203":0,"206":0,"211":0,"216":0}},"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_off.js":{"path":"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_off.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0},"b":{"1":[0,0],"2":[0,0,0,0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":31}}},"2":{"name":"FirebaseOff","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":28}}},"3":{"name":"(anonymous_3)","line":27,"loc":{"start":{"line":27,"column":25},"end":{"line":27,"column":40}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":30},"end":{"line":61,"column":40}}},"5":{"name":"(anonymous_5)","line":66,"loc":{"start":{"line":66,"column":27},"end":{"line":66,"column":37}}},"6":{"name":"(anonymous_6)","line":71,"loc":{"start":{"line":71,"column":30},"end":{"line":71,"column":40}}},"7":{"name":"(anonymous_7)","line":76,"loc":{"start":{"line":76,"column":28},"end":{"line":76,"column":46}}},"8":{"name":"(anonymous_8)","line":81,"loc":{"start":{"line":81,"column":30},"end":{"line":81,"column":40}}},"9":{"name":"(anonymous_9)","line":86,"loc":{"start":{"line":86,"column":23},"end":{"line":86,"column":38}}},"10":{"name":"(anonymous_10)","line":92,"loc":{"start":{"line":92,"column":24},"end":{"line":92,"column":34}}},"11":{"name":"(anonymous_11)","line":112,"loc":{"start":{"line":112,"column":25},"end":{"line":112,"column":39}}},"12":{"name":"(anonymous_12)","line":146,"loc":{"start":{"line":146,"column":25},"end":{"line":146,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":152,"column":2}},"2":{"start":{"line":4,"column":4},"end":{"line":150,"column":5}},"3":{"start":{"line":5,"column":8},"end":{"line":5,"column":37}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":58}},"5":{"start":{"line":8,"column":8},"end":{"line":8,"column":37}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":37}},"7":{"start":{"line":12,"column":8},"end":{"line":16,"column":9}},"8":{"start":{"line":13,"column":12},"end":{"line":13,"column":79}},"9":{"start":{"line":14,"column":12},"end":{"line":14,"column":66}},"10":{"start":{"line":15,"column":12},"end":{"line":15,"column":18}},"11":{"start":{"line":18,"column":8},"end":{"line":25,"column":9}},"12":{"start":{"line":27,"column":8},"end":{"line":58,"column":20}},"13":{"start":{"line":29,"column":10},"end":{"line":56,"column":11}},"14":{"start":{"line":31,"column":14},"end":{"line":31,"column":78}},"15":{"start":{"line":32,"column":14},"end":{"line":32,"column":20}},"16":{"start":{"line":34,"column":14},"end":{"line":34,"column":73}},"17":{"start":{"line":35,"column":14},"end":{"line":35,"column":20}},"18":{"start":{"line":37,"column":14},"end":{"line":37,"column":74}},"19":{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},"20":{"start":{"line":40,"column":14},"end":{"line":40,"column":68}},"21":{"start":{"line":41,"column":14},"end":{"line":41,"column":20}},"22":{"start":{"line":43,"column":14},"end":{"line":43,"column":73}},"23":{"start":{"line":44,"column":14},"end":{"line":44,"column":20}},"24":{"start":{"line":46,"column":14},"end":{"line":46,"column":76}},"25":{"start":{"line":47,"column":14},"end":{"line":47,"column":20}},"26":{"start":{"line":49,"column":14},"end":{"line":49,"column":81}},"27":{"start":{"line":50,"column":14},"end":{"line":50,"column":20}},"28":{"start":{"line":55,"column":14},"end":{"line":55,"column":103}},"29":{"start":{"line":61,"column":8},"end":{"line":64,"column":20}},"30":{"start":{"line":63,"column":10},"end":{"line":63,"column":27}},"31":{"start":{"line":66,"column":8},"end":{"line":69,"column":20}},"32":{"start":{"line":68,"column":10},"end":{"line":68,"column":27}},"33":{"start":{"line":71,"column":8},"end":{"line":74,"column":20}},"34":{"start":{"line":73,"column":10},"end":{"line":73,"column":27}},"35":{"start":{"line":76,"column":8},"end":{"line":79,"column":20}},"36":{"start":{"line":78,"column":10},"end":{"line":78,"column":27}},"37":{"start":{"line":81,"column":8},"end":{"line":84,"column":20}},"38":{"start":{"line":83,"column":10},"end":{"line":83,"column":27}},"39":{"start":{"line":86,"column":8},"end":{"line":90,"column":20}},"40":{"start":{"line":88,"column":10},"end":{"line":88,"column":32}},"41":{"start":{"line":89,"column":10},"end":{"line":89,"column":31}},"42":{"start":{"line":92,"column":8},"end":{"line":95,"column":20}},"43":{"start":{"line":94,"column":10},"end":{"line":94,"column":27}},"44":{"start":{"line":99,"column":8},"end":{"line":99,"column":72}},"45":{"start":{"line":100,"column":8},"end":{"line":100,"column":66}},"46":{"start":{"line":101,"column":8},"end":{"line":101,"column":72}},"47":{"start":{"line":102,"column":8},"end":{"line":102,"column":68}},"48":{"start":{"line":103,"column":8},"end":{"line":103,"column":72}},"49":{"start":{"line":104,"column":8},"end":{"line":104,"column":58}},"50":{"start":{"line":105,"column":8},"end":{"line":105,"column":60}},"51":{"start":{"line":110,"column":8},"end":{"line":110,"column":108}},"52":{"start":{"line":112,"column":8},"end":{"line":144,"column":11}},"53":{"start":{"line":113,"column":14},"end":{"line":113,"column":44}},"54":{"start":{"line":114,"column":14},"end":{"line":121,"column":15}},"55":{"start":{"line":115,"column":16},"end":{"line":120,"column":17}},"56":{"start":{"line":116,"column":18},"end":{"line":116,"column":43}},"57":{"start":{"line":118,"column":18},"end":{"line":118,"column":82}},"58":{"start":{"line":119,"column":18},"end":{"line":119,"column":25}},"59":{"start":{"line":123,"column":14},"end":{"line":126,"column":15}},"60":{"start":{"line":124,"column":16},"end":{"line":124,"column":184}},"61":{"start":{"line":125,"column":16},"end":{"line":125,"column":23}},"62":{"start":{"line":129,"column":14},"end":{"line":129,"column":44}},"63":{"start":{"line":130,"column":14},"end":{"line":134,"column":15}},"64":{"start":{"line":131,"column":16},"end":{"line":133,"column":17}},"65":{"start":{"line":132,"column":18},"end":{"line":132,"column":43}},"66":{"start":{"line":135,"column":14},"end":{"line":135,"column":42}},"67":{"start":{"line":137,"column":14},"end":{"line":137,"column":40}},"68":{"start":{"line":138,"column":14},"end":{"line":138,"column":47}},"69":{"start":{"line":140,"column":14},"end":{"line":143,"column":65}},"70":{"start":{"line":141,"column":16},"end":{"line":141,"column":86}},"71":{"start":{"line":143,"column":16},"end":{"line":143,"column":65}},"72":{"start":{"line":146,"column":8},"end":{"line":148,"column":11}},"73":{"start":{"line":147,"column":10},"end":{"line":147,"column":34}},"74":{"start":{"line":151,"column":4},"end":{"line":151,"column":56}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":12,"column":8}},{"start":{"line":12,"column":8},"end":{"line":12,"column":8}}]},"2":{"line":29,"type":"switch","locations":[{"start":{"line":30,"column":12},"end":{"line":32,"column":20}},{"start":{"line":33,"column":12},"end":{"line":35,"column":20}},{"start":{"line":36,"column":12},"end":{"line":38,"column":20}},{"start":{"line":39,"column":12},"end":{"line":41,"column":20}},{"start":{"line":42,"column":12},"end":{"line":44,"column":20}},{"start":{"line":45,"column":12},"end":{"line":47,"column":20}},{"start":{"line":48,"column":12},"end":{"line":50,"column":20}},{"start":{"line":54,"column":12},"end":{"line":55,"column":103}}]},"3":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":58},"end":{"line":46,"column":63}},{"start":{"line":46,"column":67},"end":{"line":46,"column":74}}]},"4":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":14},"end":{"line":114,"column":14}},{"start":{"line":114,"column":14},"end":{"line":114,"column":14}}]},"5":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":16},"end":{"line":115,"column":16}},{"start":{"line":115,"column":16},"end":{"line":115,"column":16}}]},"6":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":14},"end":{"line":123,"column":14}},{"start":{"line":123,"column":14},"end":{"line":123,"column":14}}]},"7":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":14},"end":{"line":130,"column":14}},{"start":{"line":130,"column":14},"end":{"line":130,"column":14}}]},"8":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":16},"end":{"line":131,"column":16}},{"start":{"line":131,"column":16},"end":{"line":131,"column":16}}]},"9":{"line":135,"type":"binary-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":35}},{"start":{"line":135,"column":39},"end":{"line":135,"column":42}}]},"10":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":30},"end":{"line":138,"column":39}},{"start":{"line":138,"column":43},"end":{"line":138,"column":46}}]},"11":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":14},"end":{"line":140,"column":14}},{"start":{"line":140,"column":14},"end":{"line":140,"column":14}}]}},"code":["module.exports = function(RED) {","    'use strict';","","    function FirebaseOff(n) {","        RED.nodes.createNode(this,n);","","        this.config = RED.nodes.getNode(n.firebaseconfig);","        this.childpath = n.childpath;","        this.eventType = n.eventType;","","        // Check credentials","        if (!this.config) {","            this.status({fill:\"red\", shape:\"ring\", text:\"invalid credentials\"})","            this.error('You need to setup Firebase credentials!');","            return","        }","","        this.validEventTypes = {","          \"value\": true,","          \"child_added\": true,","          \"child_changed\": true,","          \"chiled_removed\": true,","          \"child_moved\": true,","          \"shallow_query\": true","        }","","        this.setStatus = function(error){","          //set = state (depending on the deployment strategy, for newly deployed nodes, some of the events may not be refired...)","          switch(this.config.fbConnection.lastEvent) {","            case \"initializing\":","              this.status({fill:\"grey\", shape:\"ring\", text:\"initializing...\"})","              break;","            case \"connected\":","              this.status({fill:\"green\", shape:\"ring\", text:\"connected\"})","              break;","            case \"disconnected\":","              this.status({fill:\"red\", shape:\"ring\", text:\"disconnected\"})","              break;","            case \"authorized\":","              this.status({fill:\"green\", shape:\"dot\", text:\"ready\"})","              break;","            case \"unauthorized\":","              this.status({fill:\"red\", shape:\"dot\", text:\"unauthorized\"})","              break;","            case \"error\":","              this.status({fill:\"red\", shape:\"ring\", text:error || \"error\"}) //TODO: should we store the last error?","              break;","            case \"closed\":","              this.status({fill: \"gray\", shape: \"dot\", text:\"connection closed\"})","              break;","            // case \"undefined\":","            // case \"null\":","            //   break;  //Config node not yet setup","            default:","              this.error(\"Bad lastEvent Data from Config Node - \" + this.config.fbConnection.lastEvent)","          }","","        }.bind(this)","","        //this.config.fbConnection EventEmitter Handlers","        this.fbInitializing = function(){  //This isn't being called because its emitted too early...","          // this.log(\"initializing\")","          this.setStatus();","        }.bind(this)","","        this.fbConnected = function(){","          // this.log(\"connected\")","          this.setStatus();","        }.bind(this)","","        this.fbDisconnected = function(){","          // this.log(\"disconnected\")","          this.setStatus();","        }.bind(this)","","        this.fbAuthorized = function(authData){","          // this.log(\"authorized\")","          this.setStatus();","        }.bind(this)","","        this.fbUnauthorized = function(){","          // this.log(\"unauthorized\")","          this.setStatus();","        }.bind(this)","","        this.fbError = function(error){","          // this.log(\"error - \" + error)","          this.setStatus(error);","          this.error(error, {})","        }.bind(this)","","        this.fbClosed = function(){","          // this.log(\"closed\")","          this.setStatus();","        }.bind(this)","","","        //Register Handlers","        this.config.fbConnection.on(\"initializing\", this.fbInitializing)","        this.config.fbConnection.on(\"connected\", this.fbConnected)","        this.config.fbConnection.on(\"disconnected\", this.fbDisconnected)","        this.config.fbConnection.on(\"authorized\", this.fbAuthorized)","        this.config.fbConnection.on(\"unauthorized\", this.fbUnauthorized)","        this.config.fbConnection.on(\"error\", this.fbError)","        this.config.fbConnection.on(\"closed\", this.fbClosed)","","        // this.log(\"setting initial state to [fb\" + this.config.fbConnection.lastEvent.capitalize()+ \"](\"+this.config.fbConnection.lastEventData+\")\" )","","        //set initial state (depending on the deployment strategy, for newly deployed nodes, some of the events may not be refired...)","        this[\"fb\" + this.config.fbConnection.lastEvent.capitalize()](this.config.fbConnection.lastEventData)  //Javascript is really friendly about sending arguments to functions...","","        this.on('input', function(msg) {","              var eventType = this.eventType","              if(eventType == \"msg.eventType\"){","                if(\"eventType\" in msg){","                  eventType = msg.eventType","                } else {","                  this.error(\"Expected \\\"eventType\\\" property in msg object\", msg)","                  return;","                }","              }","","              if(!(eventType in this.validEventTypes)){","                this.error(\"Invalid msg.eventType property \\\"\" + eventType + \"\\\".  Expected one of the following: [\\\"\" + Object.keys(this.validEventTypes).join(\"\\\", \\\"\") + \"\\\"].\", msg)","                return;","              }","","              //Parse out msg.childpath","              var childpath = this.childpath","              if(childpath == \"msg.childpath\"){","                if(\"childpath\" in msg){","                  childpath = msg.childpath","                }","              }","              childpath = childpath || \"/\"","","              msg.eventType = eventType;","              msg.childpath = childpath || \"/\";","","              if(msg.childpath)","                this.config.fbConnection.fbRef.child(msg.childpath).off(msg.eventType) //, this.onFBValue, this); //TODO: BUG: this is a little more overzealous than it should be but I don't have a good way for the node to send its own ID down the flow currently...","              else","                this.config.fbConnection.fbRef.off(msg.eventType) //, this.onFBValue, this);  //TODO: BUG: this is a little more overzealous than it should be but I don't have a good way for the node to send its own ID down the flow currently...","        });","","        this.on('close', function() {","          this.destroyListeners();","        });","","    }","    RED.nodes.registerType('firebase.off', FirebaseOff);","};",""],"l":{"1":1,"4":1,"5":0,"7":0,"8":0,"9":0,"12":0,"13":0,"14":0,"15":0,"18":0,"27":0,"29":0,"31":0,"32":0,"34":0,"35":0,"37":0,"38":0,"40":0,"41":0,"43":0,"44":0,"46":0,"47":0,"49":0,"50":0,"55":0,"61":0,"63":0,"66":0,"68":0,"71":0,"73":0,"76":0,"78":0,"81":0,"83":0,"86":0,"88":0,"89":0,"92":0,"94":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"110":0,"112":0,"113":0,"114":0,"115":0,"116":0,"118":0,"119":0,"123":0,"124":0,"125":0,"129":0,"130":0,"131":0,"132":0,"135":0,"137":0,"138":0,"140":0,"141":0,"143":0,"146":0,"147":0,"151":0}},"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_once.js":{"path":"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_once.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0,0,0,0,0,0,0,0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0,0,0,0,0,0,0,0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0,0],"39":[0,0,0,0,0,0,0,0],"40":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":31}}},"2":{"name":"getPushIdTimestamp","line":6,"loc":{"start":{"line":6,"column":30},"end":{"line":6,"column":60}}},"3":{"name":"getTimestampFromId","line":9,"loc":{"start":{"line":9,"column":13},"end":{"line":9,"column":45}}},"4":{"name":"FirebaseOnce","line":23,"loc":{"start":{"line":23,"column":4},"end":{"line":23,"column":29}}},"5":{"name":"(anonymous_5)","line":59,"loc":{"start":{"line":59,"column":24},"end":{"line":59,"column":58}}},"6":{"name":"(anonymous_6)","line":89,"loc":{"start":{"line":89,"column":25},"end":{"line":89,"column":40}}},"7":{"name":"(anonymous_7)","line":95,"loc":{"start":{"line":95,"column":33},"end":{"line":95,"column":46}}},"8":{"name":"(anonymous_8)","line":137,"loc":{"start":{"line":137,"column":32},"end":{"line":137,"column":48}}},"9":{"name":"(anonymous_9)","line":162,"loc":{"start":{"line":162,"column":22},"end":{"line":162,"column":46}}},"10":{"name":"(anonymous_10)","line":210,"loc":{"start":{"line":210,"column":28},"end":{"line":210,"column":41}}},"11":{"name":"(anonymous_11)","line":269,"loc":{"start":{"line":269,"column":39},"end":{"line":269,"column":53}}},"12":{"name":"(anonymous_12)","line":275,"loc":{"start":{"line":275,"column":28},"end":{"line":275,"column":44}}},"13":{"name":"(anonymous_13)","line":279,"loc":{"start":{"line":279,"column":27},"end":{"line":279,"column":38}}},"14":{"name":"(anonymous_14)","line":298,"loc":{"start":{"line":298,"column":25},"end":{"line":298,"column":39}}},"15":{"name":"(anonymous_15)","line":308,"loc":{"start":{"line":308,"column":25},"end":{"line":308,"column":35}}},"16":{"name":"(anonymous_16)","line":330,"loc":{"start":{"line":330,"column":30},"end":{"line":330,"column":40}}},"17":{"name":"(anonymous_17)","line":336,"loc":{"start":{"line":336,"column":27},"end":{"line":336,"column":37}}},"18":{"name":"(anonymous_18)","line":342,"loc":{"start":{"line":342,"column":30},"end":{"line":342,"column":40}}},"19":{"name":"(anonymous_19)","line":348,"loc":{"start":{"line":348,"column":28},"end":{"line":348,"column":46}}},"20":{"name":"(anonymous_20)","line":354,"loc":{"start":{"line":354,"column":30},"end":{"line":354,"column":40}}},"21":{"name":"(anonymous_21)","line":361,"loc":{"start":{"line":361,"column":23},"end":{"line":361,"column":38}}},"22":{"name":"(anonymous_22)","line":368,"loc":{"start":{"line":368,"column":24},"end":{"line":368,"column":39}}},"23":{"name":"(anonymous_23)","line":386,"loc":{"start":{"line":386,"column":25},"end":{"line":386,"column":39}}},"24":{"name":"(anonymous_24)","line":394,"loc":{"start":{"line":394,"column":25},"end":{"line":394,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":400,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":50}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":32}},"4":{"start":{"line":6,"column":4},"end":{"line":21,"column":9}},"5":{"start":{"line":7,"column":6},"end":{"line":7,"column":90}},"6":{"start":{"line":9,"column":6},"end":{"line":20,"column":7}},"7":{"start":{"line":10,"column":8},"end":{"line":19,"column":21}},"8":{"start":{"line":11,"column":10},"end":{"line":11,"column":23}},"9":{"start":{"line":12,"column":10},"end":{"line":12,"column":37}},"10":{"start":{"line":14,"column":10},"end":{"line":16,"column":11}},"11":{"start":{"line":15,"column":12},"end":{"line":15,"column":59}},"12":{"start":{"line":18,"column":10},"end":{"line":18,"column":22}},"13":{"start":{"line":23,"column":4},"end":{"line":398,"column":5}},"14":{"start":{"line":24,"column":8},"end":{"line":24,"column":37}},"15":{"start":{"line":26,"column":8},"end":{"line":26,"column":58}},"16":{"start":{"line":27,"column":8},"end":{"line":27,"column":37}},"17":{"start":{"line":28,"column":8},"end":{"line":28,"column":37}},"18":{"start":{"line":29,"column":8},"end":{"line":29,"column":33}},"19":{"start":{"line":30,"column":8},"end":{"line":30,"column":43}},"20":{"start":{"line":32,"column":8},"end":{"line":32,"column":33}},"21":{"start":{"line":33,"column":8},"end":{"line":33,"column":27}},"22":{"start":{"line":36,"column":8},"end":{"line":40,"column":9}},"23":{"start":{"line":37,"column":12},"end":{"line":37,"column":79}},"24":{"start":{"line":38,"column":12},"end":{"line":38,"column":66}},"25":{"start":{"line":39,"column":12},"end":{"line":39,"column":18}},"26":{"start":{"line":50,"column":8},"end":{"line":57,"column":9}},"27":{"start":{"line":59,"column":8},"end":{"line":87,"column":21}},"28":{"start":{"line":68,"column":12},"end":{"line":68,"column":50}},"29":{"start":{"line":70,"column":12},"end":{"line":70,"column":49}},"30":{"start":{"line":71,"column":12},"end":{"line":71,"column":37}},"31":{"start":{"line":72,"column":12},"end":{"line":72,"column":41}},"32":{"start":{"line":73,"column":12},"end":{"line":74,"column":52}},"33":{"start":{"line":74,"column":14},"end":{"line":74,"column":52}},"34":{"start":{"line":75,"column":12},"end":{"line":76,"column":52}},"35":{"start":{"line":76,"column":14},"end":{"line":76,"column":52}},"36":{"start":{"line":77,"column":12},"end":{"line":78,"column":63}},"37":{"start":{"line":78,"column":14},"end":{"line":78,"column":63}},"38":{"start":{"line":80,"column":12},"end":{"line":84,"column":13}},"39":{"start":{"line":81,"column":14},"end":{"line":81,"column":41}},"40":{"start":{"line":83,"column":14},"end":{"line":83,"column":29}},"41":{"start":{"line":86,"column":12},"end":{"line":86,"column":29}},"42":{"start":{"line":89,"column":8},"end":{"line":93,"column":21}},"43":{"start":{"line":90,"column":10},"end":{"line":90,"column":31}},"44":{"start":{"line":91,"column":10},"end":{"line":91,"column":76}},"45":{"start":{"line":92,"column":10},"end":{"line":92,"column":42}},"46":{"start":{"line":95,"column":8},"end":{"line":135,"column":21}},"47":{"start":{"line":97,"column":10},"end":{"line":97,"column":40}},"48":{"start":{"line":98,"column":10},"end":{"line":105,"column":11}},"49":{"start":{"line":99,"column":12},"end":{"line":104,"column":13}},"50":{"start":{"line":100,"column":14},"end":{"line":100,"column":39}},"51":{"start":{"line":102,"column":14},"end":{"line":102,"column":78}},"52":{"start":{"line":103,"column":14},"end":{"line":103,"column":21}},"53":{"start":{"line":107,"column":10},"end":{"line":110,"column":11}},"54":{"start":{"line":108,"column":12},"end":{"line":108,"column":180}},"55":{"start":{"line":109,"column":12},"end":{"line":109,"column":19}},"56":{"start":{"line":113,"column":10},"end":{"line":113,"column":40}},"57":{"start":{"line":114,"column":10},"end":{"line":118,"column":11}},"58":{"start":{"line":115,"column":12},"end":{"line":117,"column":13}},"59":{"start":{"line":116,"column":14},"end":{"line":116,"column":39}},"60":{"start":{"line":119,"column":10},"end":{"line":119,"column":38}},"61":{"start":{"line":121,"column":10},"end":{"line":121,"column":36}},"62":{"start":{"line":122,"column":10},"end":{"line":122,"column":43}},"63":{"start":{"line":124,"column":10},"end":{"line":125,"column":33}},"64":{"start":{"line":125,"column":12},"end":{"line":125,"column":33}},"65":{"start":{"line":127,"column":10},"end":{"line":127,"column":39}},"66":{"start":{"line":129,"column":10},"end":{"line":133,"column":11}},"67":{"start":{"line":130,"column":12},"end":{"line":130,"column":34}},"68":{"start":{"line":132,"column":12},"end":{"line":132,"column":40}},"69":{"start":{"line":137,"column":8},"end":{"line":160,"column":21}},"70":{"start":{"line":138,"column":10},"end":{"line":159,"column":11}},"71":{"start":{"line":142,"column":12},"end":{"line":142,"column":49}},"72":{"start":{"line":143,"column":12},"end":{"line":143,"column":35}},"73":{"start":{"line":145,"column":12},"end":{"line":145,"column":42}},"74":{"start":{"line":146,"column":12},"end":{"line":147,"column":39}},"75":{"start":{"line":147,"column":14},"end":{"line":147,"column":39}},"76":{"start":{"line":149,"column":12},"end":{"line":152,"column":13}},"77":{"start":{"line":151,"column":14},"end":{"line":151,"column":21}},"78":{"start":{"line":155,"column":12},"end":{"line":158,"column":81}},"79":{"start":{"line":156,"column":14},"end":{"line":156,"column":102}},"80":{"start":{"line":158,"column":14},"end":{"line":158,"column":81}},"81":{"start":{"line":162,"column":8},"end":{"line":208,"column":20}},"82":{"start":{"line":163,"column":10},"end":{"line":163,"column":84}},"83":{"start":{"line":166,"column":10},"end":{"line":166,"column":17}},"84":{"start":{"line":167,"column":10},"end":{"line":171,"column":11}},"85":{"start":{"line":168,"column":12},"end":{"line":168,"column":69}},"86":{"start":{"line":170,"column":12},"end":{"line":170,"column":48}},"87":{"start":{"line":175,"column":10},"end":{"line":205,"column":11}},"88":{"start":{"line":176,"column":14},"end":{"line":176,"column":42}},"89":{"start":{"line":177,"column":14},"end":{"line":177,"column":21}},"90":{"start":{"line":179,"column":14},"end":{"line":202,"column":15}},"91":{"start":{"line":183,"column":18},"end":{"line":183,"column":41}},"92":{"start":{"line":184,"column":18},"end":{"line":184,"column":24}},"93":{"start":{"line":193,"column":18},"end":{"line":194,"column":46}},"94":{"start":{"line":193,"column":23},"end":{"line":193,"column":82}},"95":{"start":{"line":194,"column":28},"end":{"line":194,"column":45}},"96":{"start":{"line":196,"column":18},"end":{"line":196,"column":44}},"97":{"start":{"line":197,"column":18},"end":{"line":197,"column":24}},"98":{"start":{"line":201,"column":18},"end":{"line":201,"column":24}},"99":{"start":{"line":207,"column":10},"end":{"line":207,"column":67}},"100":{"start":{"line":210,"column":8},"end":{"line":306,"column":21}},"101":{"start":{"line":211,"column":10},"end":{"line":211,"column":84}},"102":{"start":{"line":214,"column":10},"end":{"line":214,"column":98}},"103":{"start":{"line":216,"column":10},"end":{"line":216,"column":112}},"104":{"start":{"line":218,"column":10},"end":{"line":218,"column":56}},"105":{"start":{"line":219,"column":10},"end":{"line":219,"column":52}},"106":{"start":{"line":221,"column":10},"end":{"line":222,"column":64}},"107":{"start":{"line":222,"column":12},"end":{"line":222,"column":64}},"108":{"start":{"line":225,"column":10},"end":{"line":262,"column":11}},"109":{"start":{"line":226,"column":14},"end":{"line":226,"column":42}},"110":{"start":{"line":227,"column":14},"end":{"line":227,"column":21}},"111":{"start":{"line":230,"column":14},"end":{"line":231,"column":42}},"112":{"start":{"line":230,"column":19},"end":{"line":230,"column":78}},"113":{"start":{"line":231,"column":24},"end":{"line":231,"column":41}},"114":{"start":{"line":233,"column":14},"end":{"line":261,"column":15}},"115":{"start":{"line":235,"column":18},"end":{"line":235,"column":49}},"116":{"start":{"line":236,"column":18},"end":{"line":236,"column":24}},"117":{"start":{"line":238,"column":18},"end":{"line":238,"column":42}},"118":{"start":{"line":239,"column":18},"end":{"line":239,"column":24}},"119":{"start":{"line":241,"column":18},"end":{"line":241,"column":44}},"120":{"start":{"line":242,"column":18},"end":{"line":242,"column":24}},"121":{"start":{"line":244,"column":18},"end":{"line":244,"column":47}},"122":{"start":{"line":245,"column":18},"end":{"line":245,"column":24}},"123":{"start":{"line":252,"column":18},"end":{"line":255,"column":54}},"124":{"start":{"line":253,"column":20},"end":{"line":253,"column":62}},"125":{"start":{"line":255,"column":20},"end":{"line":255,"column":54}},"126":{"start":{"line":256,"column":18},"end":{"line":256,"column":24}},"127":{"start":{"line":260,"column":18},"end":{"line":260,"column":24}},"128":{"start":{"line":264,"column":10},"end":{"line":264,"column":39}},"129":{"start":{"line":265,"column":10},"end":{"line":265,"column":30}},"130":{"start":{"line":269,"column":10},"end":{"line":296,"column":24}},"131":{"start":{"line":270,"column":14},"end":{"line":270,"column":38}},"132":{"start":{"line":271,"column":14},"end":{"line":271,"column":46}},"133":{"start":{"line":273,"column":14},"end":{"line":273,"column":31}},"134":{"start":{"line":275,"column":14},"end":{"line":277,"column":28}},"135":{"start":{"line":276,"column":18},"end":{"line":276,"column":39}},"136":{"start":{"line":279,"column":14},"end":{"line":295,"column":28}},"137":{"start":{"line":280,"column":18},"end":{"line":281,"column":61}},"138":{"start":{"line":280,"column":24},"end":{"line":280,"column":62}},"139":{"start":{"line":281,"column":29},"end":{"line":281,"column":59}},"140":{"start":{"line":283,"column":18},"end":{"line":294,"column":19}},"141":{"start":{"line":284,"column":20},"end":{"line":284,"column":88}},"142":{"start":{"line":285,"column":20},"end":{"line":285,"column":93}},"143":{"start":{"line":286,"column":20},"end":{"line":286,"column":52}},"144":{"start":{"line":288,"column":20},"end":{"line":292,"column":21}},"145":{"start":{"line":289,"column":22},"end":{"line":289,"column":49}},"146":{"start":{"line":291,"column":22},"end":{"line":291,"column":37}},"147":{"start":{"line":293,"column":20},"end":{"line":293,"column":37}},"148":{"start":{"line":298,"column":10},"end":{"line":303,"column":24}},"149":{"start":{"line":299,"column":14},"end":{"line":299,"column":40}},"150":{"start":{"line":300,"column":14},"end":{"line":300,"column":60}},"151":{"start":{"line":301,"column":14},"end":{"line":301,"column":67}},"152":{"start":{"line":302,"column":14},"end":{"line":302,"column":46}},"153":{"start":{"line":305,"column":10},"end":{"line":305,"column":20}},"154":{"start":{"line":308,"column":8},"end":{"line":327,"column":20}},"155":{"start":{"line":310,"column":10},"end":{"line":325,"column":11}},"156":{"start":{"line":318,"column":14},"end":{"line":318,"column":114}},"157":{"start":{"line":319,"column":14},"end":{"line":319,"column":20}},"158":{"start":{"line":324,"column":14},"end":{"line":324,"column":103}},"159":{"start":{"line":330,"column":8},"end":{"line":334,"column":20}},"160":{"start":{"line":332,"column":10},"end":{"line":332,"column":74}},"161":{"start":{"line":333,"column":10},"end":{"line":333,"column":29}},"162":{"start":{"line":336,"column":8},"end":{"line":340,"column":20}},"163":{"start":{"line":338,"column":10},"end":{"line":338,"column":69}},"164":{"start":{"line":339,"column":10},"end":{"line":339,"column":29}},"165":{"start":{"line":342,"column":8},"end":{"line":346,"column":20}},"166":{"start":{"line":344,"column":10},"end":{"line":344,"column":70}},"167":{"start":{"line":345,"column":10},"end":{"line":345,"column":29}},"168":{"start":{"line":348,"column":8},"end":{"line":352,"column":20}},"169":{"start":{"line":350,"column":10},"end":{"line":350,"column":64}},"170":{"start":{"line":351,"column":10},"end":{"line":351,"column":28}},"171":{"start":{"line":354,"column":8},"end":{"line":359,"column":20}},"172":{"start":{"line":356,"column":10},"end":{"line":356,"column":69}},"173":{"start":{"line":357,"column":10},"end":{"line":357,"column":29}},"174":{"start":{"line":358,"column":10},"end":{"line":358,"column":34}},"175":{"start":{"line":361,"column":8},"end":{"line":366,"column":20}},"176":{"start":{"line":363,"column":10},"end":{"line":363,"column":61}},"177":{"start":{"line":364,"column":10},"end":{"line":364,"column":31}},"178":{"start":{"line":365,"column":10},"end":{"line":365,"column":34}},"179":{"start":{"line":368,"column":8},"end":{"line":373,"column":20}},"180":{"start":{"line":370,"column":10},"end":{"line":370,"column":77}},"181":{"start":{"line":371,"column":10},"end":{"line":371,"column":29}},"182":{"start":{"line":372,"column":10},"end":{"line":372,"column":34}},"183":{"start":{"line":376,"column":8},"end":{"line":376,"column":72}},"184":{"start":{"line":377,"column":8},"end":{"line":377,"column":66}},"185":{"start":{"line":378,"column":8},"end":{"line":378,"column":72}},"186":{"start":{"line":379,"column":8},"end":{"line":379,"column":68}},"187":{"start":{"line":380,"column":8},"end":{"line":380,"column":72}},"188":{"start":{"line":381,"column":8},"end":{"line":381,"column":58}},"189":{"start":{"line":382,"column":8},"end":{"line":382,"column":60}},"190":{"start":{"line":384,"column":8},"end":{"line":384,"column":24}},"191":{"start":{"line":386,"column":8},"end":{"line":392,"column":11}},"192":{"start":{"line":387,"column":12},"end":{"line":391,"column":13}},"193":{"start":{"line":388,"column":14},"end":{"line":388,"column":42}},"194":{"start":{"line":390,"column":14},"end":{"line":390,"column":130}},"195":{"start":{"line":394,"column":8},"end":{"line":396,"column":11}},"196":{"start":{"line":395,"column":10},"end":{"line":395,"column":34}},"197":{"start":{"line":399,"column":4},"end":{"line":399,"column":58}}},"branchMap":{"1":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":36,"column":8}},{"start":{"line":36,"column":8},"end":{"line":36,"column":8}}]},"2":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":12},"end":{"line":73,"column":12}},{"start":{"line":73,"column":12},"end":{"line":73,"column":12}}]},"3":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":12},"end":{"line":75,"column":12}},{"start":{"line":75,"column":12},"end":{"line":75,"column":12}}]},"4":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":12},"end":{"line":77,"column":12}},{"start":{"line":77,"column":12},"end":{"line":77,"column":12}}]},"5":{"line":77,"type":"binary-expr","locations":[{"start":{"line":77,"column":15},"end":{"line":77,"column":51}},{"start":{"line":77,"column":55},"end":{"line":77,"column":75}},{"start":{"line":77,"column":79},"end":{"line":77,"column":106}}]},"6":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":12},"end":{"line":80,"column":12}},{"start":{"line":80,"column":12},"end":{"line":80,"column":12}}]},"7":{"line":80,"type":"binary-expr","locations":[{"start":{"line":80,"column":15},"end":{"line":80,"column":32}},{"start":{"line":80,"column":36},"end":{"line":80,"column":55}},{"start":{"line":80,"column":59},"end":{"line":80,"column":84}}]},"8":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":52},"end":{"line":91,"column":62}},{"start":{"line":91,"column":66},"end":{"line":91,"column":73}}]},"9":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":10},"end":{"line":98,"column":10}},{"start":{"line":98,"column":10},"end":{"line":98,"column":10}}]},"10":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":12},"end":{"line":99,"column":12}},{"start":{"line":99,"column":12},"end":{"line":99,"column":12}}]},"11":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":10},"end":{"line":107,"column":10}},{"start":{"line":107,"column":10},"end":{"line":107,"column":10}}]},"12":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":10},"end":{"line":114,"column":10}},{"start":{"line":114,"column":10},"end":{"line":114,"column":10}}]},"13":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":12},"end":{"line":115,"column":12}},{"start":{"line":115,"column":12},"end":{"line":115,"column":12}}]},"14":{"line":119,"type":"binary-expr","locations":[{"start":{"line":119,"column":22},"end":{"line":119,"column":31}},{"start":{"line":119,"column":35},"end":{"line":119,"column":38}}]},"15":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":26},"end":{"line":122,"column":35}},{"start":{"line":122,"column":39},"end":{"line":122,"column":42}}]},"16":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":10},"end":{"line":124,"column":10}},{"start":{"line":124,"column":10},"end":{"line":124,"column":10}}]},"17":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":10},"end":{"line":129,"column":10}},{"start":{"line":129,"column":10},"end":{"line":129,"column":10}}]},"18":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":10},"end":{"line":138,"column":10}},{"start":{"line":138,"column":10},"end":{"line":138,"column":10}}]},"19":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":13},"end":{"line":138,"column":43}},{"start":{"line":138,"column":47},"end":{"line":138,"column":53}}]},"20":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":12},"end":{"line":146,"column":12}},{"start":{"line":146,"column":12},"end":{"line":146,"column":12}}]},"21":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":12},"end":{"line":149,"column":12}},{"start":{"line":149,"column":12},"end":{"line":149,"column":12}}]},"22":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":12},"end":{"line":155,"column":12}},{"start":{"line":155,"column":12},"end":{"line":155,"column":12}}]},"23":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":10},"end":{"line":167,"column":10}},{"start":{"line":167,"column":10},"end":{"line":167,"column":10}}]},"24":{"line":179,"type":"switch","locations":[{"start":{"line":180,"column":16},"end":{"line":180,"column":34}},{"start":{"line":181,"column":16},"end":{"line":181,"column":36}},{"start":{"line":182,"column":16},"end":{"line":184,"column":24}},{"start":{"line":186,"column":16},"end":{"line":186,"column":36}},{"start":{"line":187,"column":16},"end":{"line":187,"column":31}},{"start":{"line":188,"column":16},"end":{"line":188,"column":29}},{"start":{"line":189,"column":16},"end":{"line":189,"column":31}},{"start":{"line":190,"column":16},"end":{"line":190,"column":36}},{"start":{"line":191,"column":16},"end":{"line":197,"column":24}},{"start":{"line":199,"column":16},"end":{"line":201,"column":24}}]},"25":{"line":193,"type":"binary-expr","locations":[{"start":{"line":193,"column":40},"end":{"line":193,"column":65}},{"start":{"line":193,"column":69},"end":{"line":193,"column":80}}]},"26":{"line":214,"type":"cond-expr","locations":[{"start":{"line":214,"column":62},"end":{"line":214,"column":75}},{"start":{"line":214,"column":78},"end":{"line":214,"column":97}}]},"27":{"line":216,"type":"cond-expr","locations":[{"start":{"line":216,"column":79},"end":{"line":216,"column":100}},{"start":{"line":216,"column":103},"end":{"line":216,"column":112}}]},"28":{"line":216,"type":"binary-expr","locations":[{"start":{"line":216,"column":23},"end":{"line":216,"column":44}},{"start":{"line":216,"column":48},"end":{"line":216,"column":75}}]},"29":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":10},"end":{"line":221,"column":10}},{"start":{"line":221,"column":10},"end":{"line":221,"column":10}}]},"30":{"line":230,"type":"binary-expr","locations":[{"start":{"line":230,"column":36},"end":{"line":230,"column":61}},{"start":{"line":230,"column":65},"end":{"line":230,"column":76}}]},"31":{"line":233,"type":"switch","locations":[{"start":{"line":234,"column":16},"end":{"line":236,"column":24}},{"start":{"line":237,"column":16},"end":{"line":239,"column":24}},{"start":{"line":240,"column":16},"end":{"line":242,"column":24}},{"start":{"line":243,"column":16},"end":{"line":245,"column":24}},{"start":{"line":247,"column":16},"end":{"line":247,"column":31}},{"start":{"line":248,"column":16},"end":{"line":248,"column":29}},{"start":{"line":249,"column":16},"end":{"line":249,"column":31}},{"start":{"line":250,"column":16},"end":{"line":250,"column":36}},{"start":{"line":251,"column":16},"end":{"line":256,"column":24}},{"start":{"line":258,"column":16},"end":{"line":260,"column":24}}]},"32":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":18},"end":{"line":252,"column":18}},{"start":{"line":252,"column":18},"end":{"line":252,"column":18}}]},"33":{"line":252,"type":"binary-expr","locations":[{"start":{"line":252,"column":22},"end":{"line":252,"column":44}},{"start":{"line":252,"column":48},"end":{"line":252,"column":69}}]},"34":{"line":283,"type":"if","locations":[{"start":{"line":283,"column":18},"end":{"line":283,"column":18}},{"start":{"line":283,"column":18},"end":{"line":283,"column":18}}]},"35":{"line":284,"type":"binary-expr","locations":[{"start":{"line":284,"column":31},"end":{"line":284,"column":48}},{"start":{"line":284,"column":52},"end":{"line":284,"column":82}}]},"36":{"line":285,"type":"binary-expr","locations":[{"start":{"line":285,"column":62},"end":{"line":285,"column":79}},{"start":{"line":285,"column":83},"end":{"line":285,"column":90}}]},"37":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":20},"end":{"line":288,"column":20}},{"start":{"line":288,"column":20},"end":{"line":288,"column":20}}]},"38":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":23},"end":{"line":288,"column":40}},{"start":{"line":288,"column":44},"end":{"line":288,"column":63}},{"start":{"line":288,"column":67},"end":{"line":288,"column":92}}]},"39":{"line":310,"type":"switch","locations":[{"start":{"line":311,"column":12},"end":{"line":311,"column":32}},{"start":{"line":312,"column":12},"end":{"line":312,"column":29}},{"start":{"line":313,"column":12},"end":{"line":313,"column":32}},{"start":{"line":314,"column":12},"end":{"line":314,"column":30}},{"start":{"line":315,"column":12},"end":{"line":315,"column":32}},{"start":{"line":316,"column":12},"end":{"line":316,"column":25}},{"start":{"line":317,"column":12},"end":{"line":319,"column":20}},{"start":{"line":323,"column":12},"end":{"line":324,"column":103}}]},"40":{"line":387,"type":"if","locations":[{"start":{"line":387,"column":12},"end":{"line":387,"column":12}},{"start":{"line":387,"column":12},"end":{"line":387,"column":12}}]}},"code":["module.exports = function(RED) {","    'use strict';","    var https = require(\"follow-redirects\").https;","    var urllib = require(\"url\");","","    var getPushIdTimestamp = (function getPushIdTimestamp() {","      var PUSH_CHARS = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';","","      return function getTimestampFromId(id) {","        try {","          var time = 0;","          var data = id.substr(0, 8);","","          for (var i = 0; i < 8; i++) {","            time = time * 64 + PUSH_CHARS.indexOf(data[i]);","          }","","          return time;","        } catch(ex){}","      }","    })();","","    function FirebaseOnce(n) {","        RED.nodes.createNode(this,n);","","        this.config = RED.nodes.getNode(n.firebaseconfig);","        this.childpath = n.childpath;","        this.eventType = n.eventType;","        this.queries = n.queries;","        this.repeatifnull = n.repeatifnull;","","        this.activeRequests = [];","        this.ready = false;","","        // Check credentials","        if (!this.config) {","            this.status({fill:\"red\", shape:\"ring\", text:\"invalid credentials\"})","            this.error('You need to setup Firebase credentials!');","            return","        }","","        // for (var i=0; i<this.queries.length; i+=1) {","        //     var query = this.queries[i];","        //     if (!isNaN(Number(query.value))) {","        //       query.value = Number(query.value);","        //       query.value2 = Number(query.value2);","        //     }","        // }","","        this.validEventTypes = {","          \"value\": true,","          \"child_added\": true,","          \"child_changed\": true,","          \"chiled_removed\": true,","          \"child_moved\": true,","          \"shallow_query\": true","        }","","        this.onFBData = function(snapshot, prevChildName) {","            //console.log(\"In onFBData + \" + JSON.stringify(snapshot.val()))","            //TODO: Once Node-Red supports it, we should flash the Node when we receive this data.","","            // if(!snapshot.exists()){","            //   //The code below will simply send a payload of nul if there is no data","            // }","","            //Tstart with original message object so we retain all of those properties...","            var msg = this.activeRequests.shift();","","            msg.href = snapshot.ref().toString();","            msg.key = snapshot.key();","            msg.payload = snapshot.val();","            if(snapshot.getPriority())","              msg.priority = snapshot.getPriority();","            if(prevChildName)","              msg.previousChildName = prevChildName;","            if(this.eventType.search(\"child\") != -1 || msg.key.length == 20 && getPushIdTimestamp(msg.key))  //We probably have a pushID that we can decode","              msg.pushIDTimestamp = getPushIdTimestamp(msg.key)","","            if(this.repeatifnull && msg.payload == null && msg.attemptNumber++ < 100 ){ // Repeat sending the request.  //TODO: we could use a configurable timer in seconds or a configurable number of attempts","              this.registerListeners(msg)","            } else {","              this.send(msg);","            }","","            this.setStatus();","        }.bind(this);","","        this.onFBError = function(error){","          this.error(error, {})","          this.status({fill:\"red\",shape:\"ring\",text:error.code || \"error\"});","          setTimeout(this.setStatus, 5000)  //Reset back to the Firebase status after 5 seconds","        }.bind(this);","","        this.registerListeners = function(msg){","","          var eventType = this.eventType","          if(eventType == \"msg.eventType\"){","            if(\"eventType\" in msg){","              eventType = msg.eventType","            } else {","              this.error(\"Expected \\\"eventType\\\" property in msg object\", msg)","              return;","            }","          }","","          if(!(eventType in this.validEventTypes)){","            this.error(\"Invalid msg.eventType property \\\"\" + eventType + \"\\\".  Expected one of the following: [\\\"\" + Object.keys(this.validEventTypes).join(\"\\\", \\\"\") + \"\\\"].\", msg)","            return;","          }","","          //Parse out msg.childpath","          var childpath = this.childpath","          if(childpath == \"msg.childpath\"){","            if(\"childpath\" in msg){","              childpath = msg.childpath","            }","          }","          childpath = childpath || \"/\"","","          msg.eventType = eventType;","          msg.childpath = childpath || \"/\";","","          if(!msg.attemptNumber)","            msg.attemptNumber = 0","","          this.activeRequests.push(msg)","","          if(msg.eventType == \"shallow_query\"){","            this.shallowQuery(msg)  //TODO: https://www.firebase.com/docs/rest/guide/retrieving-data.html#section-rest-ordered-data and https://www.firebase.com/docs/rest/guide/retrieving-data.html#section-rest-queries","          } else {","            this.fbOnce(eventType, msg);","          }","","        }.bind(this);","","        this.destroyListeners = function(reason){","          if(this.activeRequests.length > 0 && reason){  //ensure the close function doesn't trigger this","            // var msg = {};","            // msg.href = this.config.firebaseurl;","            // msg.payload = \"ERROR: \" + reason;","            var msg = this.activeRequests.shift()","            this.error(reason, msg)","","            var eventType = this.eventType","            if(eventType == \"msg.eventType\")","              eventType = msg.eventType","","            if(!(eventType in this.validEventTypes)){","              //this.error(\"Invalid eventType - \\\"\" + eventType + \"\\\"\", msg)  //We have already errored on the registerListener call","              return;","            }","","            // We need to unbind our callback, or we'll get duplicate messages when we redeploy","            if(msg.childpath)","              this.config.fbConnection.fbRef.child(msg.childpath).off(eventType, this.onFBData, this);","            else","              this.config.fbConnection.fbRef.off(eventType, this.onFBData, this);","          }","        }.bind(this);","","        this.fbOnce = function(eventType, msg){","          this.status({fill:\"blue\",shape:\"dot\",text:\"requesting from firebase...\"});","","          //Create the firebase reference to the path","          var ref","          if(msg.childpath){","            ref = this.config.fbConnection.fbRef.child(msg.childpath)","          }else{","            ref = this.config.fbConnection.fbRef","          }","","","          //apply the queries","          for (var i=0; i<this.queries.length; i+=1) {","              var query = this.queries[i];","              var val","","              switch(query.name){","                case \"orderByKey\":","                case \"orderByValue\":","                case \"orderByPriority\":","                  ref = ref[query.name]()  //No args //TODO: BUG: Update HTML to hide box for these 3...","                  break;","","                case \"orderByChild\":","                case \"startAt\":","                case \"endAt\":","                case \"equalTo\":","                case \"limitToFirst\":","                case \"limitToLast\":","                  //try to convert to native type for bools, ints, etc.","                  try{ val = JSON.parse(query.value.toLowerCase() || query.value) }","                  catch(e){ val = query.value}","","                  ref = ref[query.name](val) //TODO: no error checking...","                  break;","","                default:","                  //TODO:","                  break;","              }","","","          }","","          ref.once(eventType, this.onFBData, this.onFBError, this);","        }.bind(this)","","        this.shallowQuery = function(msg){  //Could we use the REST Streaming API and do shallow queries in firebase.on()? Update - currently firebase doesn't support shallow and query args in the same request","          this.status({fill:\"blue\",shape:\"dot\",text:\"shallow_query requesting...\"});","","          // make sure the path starts with '/'","          var childpath = (msg.childpath.indexOf(\"/\") == 0) ? msg.childpath : \"/\" + msg.childpath;","          //make sure the path does not end with '/', (unless that is the string in its entirety)","          childpath = (childpath.length != 1 && childpath.substr(-1) == \"/\") ? childpath.slice(0,-1) : childpath","","          msg.href = this.config.firebaseurl + childpath","          var url =  msg.href + \".json?shallow=true\"","","          if(this.config.fbConnection.passORuid)","            url += \"&auth=\" + this.config.fbConnection.passORuid","","          //apply the queries","          for (var i=0; i<this.queries.length; i+=1) {","              var query = this.queries[i];","              var val","","              //try to convert to native type for bools, ints, etc.","              try{ val = JSON.parse(query.value.toLowerCase() || query.value) }","              catch(e){ val = query.value}","","              switch(query.name){","                case \"orderByChild\":","                  url += '&orderBy=\"' + val + '\"'","                  break;","                case \"orderByKey\":","                  url += '&orderBy=\"$key\"'","                  break;","                case \"orderByValue\":","                  url += '&orderBy=\"$value\"'","                  break;","                case \"orderByPriority\":","                  url += '&orderBy=\"$priority\"'","                  break;","","                case \"startAt\":","                case \"endAt\":","                case \"equalTo\":","                case \"limitToFirst\":","                case \"limitToLast\":","                  if (typeof val == 'string' || val instanceof String)","                    url += '&' + query.name + '=\"' + val + '\"'","                  else","                    url += '&' + query.name + '='+ val","                  break;","","                default:","                  //TODO:","                  break;","              }","          }","","          var opts = urllib.parse(url);","          opts.method = \"GET\";;","          //opts.headers = {};","","          //TODO: BUG: There needs to be a request.ontimeout","          var req = https.request(opts,function(res) {","              res.setEncoding('utf8');","              msg.statusCode = res.statusCode;","              //msg.headers = res.headers;","              msg.payload = \"\";","              //msg.url = url;   // revert when warning above finally removed","              res.on('data',function(chunk) {","                  msg.payload += chunk;","              }.bind(this));","","              res.on('end',function() {","                  try { msg.payload = JSON.parse(msg.payload); }","                  catch(e) { this.warn(\"JSON parse error\"); }","","                  if(msg.statusCode != 200){","                    this.error(msg.payload.error || \"firebase shallow_query error\", msg)","                    this.status({fill:\"red\",shape:\"ring\",text:msg.payload.error || \"error\"});","                    setTimeout(this.setStatus, 5000)  //Reset back to the Firebase status after 5 seconds","                  } else {","                    if(this.repeatifnull && msg.payload == null && msg.attemptNumber++ < 100 ){ // Repeat sending the request","                      this.registerListeners(msg)","                    } else {","                      this.send(msg);","                    }","                    this.setStatus();","                  }","              }.bind(this));","          }.bind(this));","","          req.on('error',function(err) {","              msg.statusCode = err.code;","              this.error(err.toString() + \" : \" + url, msg);","              this.status({fill:\"red\",shape:\"ring\",text:err.code});","              setTimeout(this.setStatus, 5000)  //Reset back to the Firebase status after 5 seconds","          }.bind(this));","","          req.end();","        }.bind(this);","","        this.setStatus = function(){","          //set = state (depending on the deployment strategy, for newly deployed nodes, some of the events may not be refired...)","          switch(this.config.fbConnection.lastEvent) {","            case \"initializing\":","            case \"connected\":","            case \"disconnected\":","            case \"authorized\":","            case \"unauthorized\":","            case \"error\":","            case \"closed\":","              this[\"fb\" + this.config.fbConnection.lastEvent.capitalize()](this.config.fbConnection.lastEventData)  //Javascript is really friendly about sending arguments to functions...","              break;","            // case \"undefined\":","            // case \"null\":","            //   break;  //Config node not yet setup","            default:","              this.error(\"Bad lastEvent Data from Config Node - \" + this.config.fbConnection.lastEvent)","          }","","        }.bind(this)","","        //this.config.fbConnection EventEmitter Handlers","        this.fbInitializing = function(){  //This isn't being called because its emitted too early...","          // this.log(\"initializing...\")","          this.status({fill:\"grey\", shape:\"ring\", text:\"initializing...\"})","          this.ready = false;","        }.bind(this)","","        this.fbConnected = function(){","          // this.log(\"connected\")","          this.status({fill:\"green\", shape:\"ring\", text:\"connected\"})","          this.ready = false;","        }.bind(this)","","        this.fbDisconnected = function(){","          // this.log(\"disconnected\")","          this.status({fill:\"red\", shape:\"ring\", text:\"disconnected\"})","          this.ready = false;","        }.bind(this)","","        this.fbAuthorized = function(authData){","          // this.log(\"authorized: \" + JSON.stringify(authData))","          this.status({fill:\"green\", shape:\"dot\", text:\"ready\"})","          this.ready = true;","        }.bind(this)","","        this.fbUnauthorized = function(){","          // this.log(\"unauthorized\")","          this.status({fill:\"red\", shape:\"dot\", text:\"unauthorized\"})","          this.ready = false;","          this.destroyListeners();","        }.bind(this)","","        this.fbError = function(error){","          //this.log(\"error: \" + JSON.stringify(error))","          this.status({fill:\"red\", shape:\"ring\", text:error})","          this.error(error, {})","          this.destroyListeners();","        }.bind(this)","","        this.fbClosed = function(error){","          //this.log(\"closed\")","          this.status({fill: \"gray\", shape: \"dot\", text:\"connection closed\"})","          this.ready = false;","          this.destroyListeners();  //TODO: this is being called in too many places but better safe than sorry?  Really need to figure out execution flow of Node-Red and decide if we can only have it here instead of also in this.on(\"close\")","        }.bind(this)","","        //Register Handlers","        this.config.fbConnection.on(\"initializing\", this.fbInitializing)","        this.config.fbConnection.on(\"connected\", this.fbConnected)","        this.config.fbConnection.on(\"disconnected\", this.fbDisconnected)","        this.config.fbConnection.on(\"authorized\", this.fbAuthorized)","        this.config.fbConnection.on(\"unauthorized\", this.fbUnauthorized)","        this.config.fbConnection.on(\"error\", this.fbError)","        this.config.fbConnection.on(\"closed\", this.fbClosed)","","        this.setStatus()","","        this.on('input', function(msg) {","            if(this.ready){","              this.registerListeners(msg);","            } else {","              this.warn(\"Received msg before firebase.once() node was ready.  Not processing: \" + JSON.stringify(msg, null, \"\\t\"))","            }","        });","","        this.on('close', function() {","          this.destroyListeners();","        });","","    }","    RED.nodes.registerType('firebase.once', FirebaseOnce);","};",""],"l":{"1":1,"3":0,"4":0,"6":0,"7":0,"9":0,"10":0,"11":0,"12":0,"14":0,"15":0,"18":0,"23":1,"24":0,"26":0,"27":0,"28":0,"29":0,"30":0,"32":0,"33":0,"36":0,"37":0,"38":0,"39":0,"50":0,"59":0,"68":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"80":0,"81":0,"83":0,"86":0,"89":0,"90":0,"91":0,"92":0,"95":0,"97":0,"98":0,"99":0,"100":0,"102":0,"103":0,"107":0,"108":0,"109":0,"113":0,"114":0,"115":0,"116":0,"119":0,"121":0,"122":0,"124":0,"125":0,"127":0,"129":0,"130":0,"132":0,"137":0,"138":0,"142":0,"143":0,"145":0,"146":0,"147":0,"149":0,"151":0,"155":0,"156":0,"158":0,"162":0,"163":0,"166":0,"167":0,"168":0,"170":0,"175":0,"176":0,"177":0,"179":0,"183":0,"184":0,"193":0,"194":0,"196":0,"197":0,"201":0,"207":0,"210":0,"211":0,"214":0,"216":0,"218":0,"219":0,"221":0,"222":0,"225":0,"226":0,"227":0,"230":0,"231":0,"233":0,"235":0,"236":0,"238":0,"239":0,"241":0,"242":0,"244":0,"245":0,"252":0,"253":0,"255":0,"256":0,"260":0,"264":0,"265":0,"269":0,"270":0,"271":0,"273":0,"275":0,"276":0,"279":0,"280":0,"281":0,"283":0,"284":0,"285":0,"286":0,"288":0,"289":0,"291":0,"293":0,"298":0,"299":0,"300":0,"301":0,"302":0,"305":0,"308":0,"310":0,"318":0,"319":0,"324":0,"330":0,"332":0,"333":0,"336":0,"338":0,"339":0,"342":0,"344":0,"345":0,"348":0,"350":0,"351":0,"354":0,"356":0,"357":0,"358":0,"361":0,"363":0,"364":0,"365":0,"368":0,"370":0,"371":0,"372":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0,"382":0,"384":0,"386":0,"387":0,"388":0,"390":0,"394":0,"395":0,"399":0}},"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_ondisconnect.js":{"path":"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_ondisconnect.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0,0,0,0,0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0,0,0,0,0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":31}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":45}}},"3":{"name":"FirebaseOnDisconnect","line":9,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":37}}},"4":{"name":"(anonymous_4)","line":37,"loc":{"start":{"line":37,"column":28},"end":{"line":37,"column":44}}},"5":{"name":"(anonymous_5)","line":49,"loc":{"start":{"line":49,"column":30},"end":{"line":49,"column":40}}},"6":{"name":"(anonymous_6)","line":55,"loc":{"start":{"line":55,"column":27},"end":{"line":55,"column":37}}},"7":{"name":"(anonymous_7)","line":61,"loc":{"start":{"line":61,"column":30},"end":{"line":61,"column":40}}},"8":{"name":"(anonymous_8)","line":67,"loc":{"start":{"line":67,"column":28},"end":{"line":67,"column":46}}},"9":{"name":"(anonymous_9)","line":77,"loc":{"start":{"line":77,"column":30},"end":{"line":77,"column":40}}},"10":{"name":"(anonymous_10)","line":83,"loc":{"start":{"line":83,"column":23},"end":{"line":83,"column":38}}},"11":{"name":"(anonymous_11)","line":89,"loc":{"start":{"line":89,"column":24},"end":{"line":89,"column":39}}},"12":{"name":"(anonymous_12)","line":122,"loc":{"start":{"line":122,"column":25},"end":{"line":122,"column":39}}},"13":{"name":"(anonymous_13)","line":217,"loc":{"start":{"line":217,"column":27},"end":{"line":217,"column":38}}},"14":{"name":"(anonymous_14)","line":224,"loc":{"start":{"line":224,"column":103},"end":{"line":224,"column":121}}},"15":{"name":"(anonymous_15)","line":228,"loc":{"start":{"line":228,"column":69},"end":{"line":228,"column":84}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":241,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":30}},"3":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"4":{"start":{"line":6,"column":8},"end":{"line":6,"column":60}},"5":{"start":{"line":9,"column":4},"end":{"line":221,"column":5}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":37}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":58}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":27}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":37}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":31}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":29}},"12":{"start":{"line":17,"column":8},"end":{"line":17,"column":35}},"13":{"start":{"line":18,"column":8},"end":{"line":18,"column":29}},"14":{"start":{"line":20,"column":8},"end":{"line":20,"column":27}},"15":{"start":{"line":22,"column":8},"end":{"line":28,"column":9}},"16":{"start":{"line":31,"column":8},"end":{"line":35,"column":9}},"17":{"start":{"line":32,"column":12},"end":{"line":32,"column":79}},"18":{"start":{"line":33,"column":12},"end":{"line":33,"column":66}},"19":{"start":{"line":34,"column":12},"end":{"line":34,"column":18}},"20":{"start":{"line":37,"column":8},"end":{"line":45,"column":21}},"21":{"start":{"line":39,"column":12},"end":{"line":39,"column":45}},"22":{"start":{"line":41,"column":12},"end":{"line":44,"column":13}},"23":{"start":{"line":43,"column":14},"end":{"line":43,"column":75}},"24":{"start":{"line":49,"column":8},"end":{"line":53,"column":20}},"25":{"start":{"line":51,"column":10},"end":{"line":51,"column":74}},"26":{"start":{"line":52,"column":10},"end":{"line":52,"column":29}},"27":{"start":{"line":55,"column":8},"end":{"line":59,"column":20}},"28":{"start":{"line":57,"column":10},"end":{"line":57,"column":69}},"29":{"start":{"line":61,"column":8},"end":{"line":65,"column":20}},"30":{"start":{"line":63,"column":10},"end":{"line":63,"column":70}},"31":{"start":{"line":64,"column":10},"end":{"line":64,"column":29}},"32":{"start":{"line":67,"column":8},"end":{"line":75,"column":20}},"33":{"start":{"line":69,"column":10},"end":{"line":69,"column":64}},"34":{"start":{"line":70,"column":10},"end":{"line":70,"column":28}},"35":{"start":{"line":71,"column":10},"end":{"line":74,"column":11}},"36":{"start":{"line":73,"column":12},"end":{"line":73,"column":35}},"37":{"start":{"line":77,"column":8},"end":{"line":81,"column":20}},"38":{"start":{"line":79,"column":10},"end":{"line":79,"column":69}},"39":{"start":{"line":80,"column":10},"end":{"line":80,"column":29}},"40":{"start":{"line":83,"column":8},"end":{"line":87,"column":20}},"41":{"start":{"line":85,"column":10},"end":{"line":85,"column":61}},"42":{"start":{"line":86,"column":10},"end":{"line":86,"column":31}},"43":{"start":{"line":89,"column":8},"end":{"line":93,"column":20}},"44":{"start":{"line":91,"column":10},"end":{"line":91,"column":77}},"45":{"start":{"line":92,"column":10},"end":{"line":92,"column":29}},"46":{"start":{"line":96,"column":8},"end":{"line":96,"column":72}},"47":{"start":{"line":97,"column":8},"end":{"line":97,"column":66}},"48":{"start":{"line":98,"column":8},"end":{"line":98,"column":72}},"49":{"start":{"line":99,"column":8},"end":{"line":99,"column":68}},"50":{"start":{"line":100,"column":8},"end":{"line":100,"column":72}},"51":{"start":{"line":101,"column":8},"end":{"line":101,"column":58}},"52":{"start":{"line":102,"column":8},"end":{"line":102,"column":60}},"53":{"start":{"line":105,"column":8},"end":{"line":120,"column":9}},"54":{"start":{"line":113,"column":12},"end":{"line":113,"column":112}},"55":{"start":{"line":114,"column":12},"end":{"line":114,"column":18}},"56":{"start":{"line":119,"column":12},"end":{"line":119,"column":101}},"57":{"start":{"line":122,"column":8},"end":{"line":214,"column":11}},"58":{"start":{"line":123,"column":10},"end":{"line":213,"column":11}},"59":{"start":{"line":126,"column":12},"end":{"line":126,"column":36}},"60":{"start":{"line":127,"column":12},"end":{"line":134,"column":13}},"61":{"start":{"line":128,"column":14},"end":{"line":133,"column":15}},"62":{"start":{"line":129,"column":16},"end":{"line":129,"column":35}},"63":{"start":{"line":131,"column":16},"end":{"line":131,"column":114}},"64":{"start":{"line":132,"column":16},"end":{"line":132,"column":23}},"65":{"start":{"line":137,"column":12},"end":{"line":137,"column":35}},"66":{"start":{"line":138,"column":12},"end":{"line":157,"column":13}},"67":{"start":{"line":139,"column":14},"end":{"line":155,"column":15}},"68":{"start":{"line":140,"column":16},"end":{"line":152,"column":17}},"69":{"start":{"line":141,"column":18},"end":{"line":141,"column":38}},"70":{"start":{"line":142,"column":18},"end":{"line":148,"column":19}},"71":{"start":{"line":143,"column":20},"end":{"line":147,"column":21}},"72":{"start":{"line":144,"column":22},"end":{"line":144,"column":47}},"73":{"start":{"line":146,"column":22},"end":{"line":146,"column":53}},"74":{"start":{"line":150,"column":18},"end":{"line":150,"column":114}},"75":{"start":{"line":151,"column":18},"end":{"line":151,"column":31}},"76":{"start":{"line":153,"column":21},"end":{"line":155,"column":15}},"77":{"start":{"line":154,"column":16},"end":{"line":154,"column":79}},"78":{"start":{"line":156,"column":14},"end":{"line":156,"column":34}},"79":{"start":{"line":160,"column":12},"end":{"line":160,"column":32}},"80":{"start":{"line":161,"column":12},"end":{"line":173,"column":13}},"81":{"start":{"line":162,"column":14},"end":{"line":162,"column":39}},"82":{"start":{"line":163,"column":14},"end":{"line":172,"column":15}},"83":{"start":{"line":164,"column":16},"end":{"line":164,"column":111}},"84":{"start":{"line":165,"column":16},"end":{"line":165,"column":23}},"85":{"start":{"line":166,"column":21},"end":{"line":172,"column":15}},"86":{"start":{"line":167,"column":16},"end":{"line":171,"column":17}},"87":{"start":{"line":167,"column":39},"end":{"line":167,"column":63}},"88":{"start":{"line":169,"column":18},"end":{"line":169,"column":114}},"89":{"start":{"line":170,"column":18},"end":{"line":170,"column":25}},"90":{"start":{"line":176,"column":12},"end":{"line":176,"column":42}},"91":{"start":{"line":177,"column":12},"end":{"line":181,"column":13}},"92":{"start":{"line":178,"column":14},"end":{"line":180,"column":15}},"93":{"start":{"line":179,"column":16},"end":{"line":179,"column":41}},"94":{"start":{"line":182,"column":12},"end":{"line":182,"column":40}},"95":{"start":{"line":184,"column":12},"end":{"line":210,"column":13}},"96":{"start":{"line":188,"column":16},"end":{"line":188,"column":41}},"97":{"start":{"line":189,"column":16},"end":{"line":189,"column":130}},"98":{"start":{"line":190,"column":16},"end":{"line":190,"column":22}},"99":{"start":{"line":190,"column":22},"end":{"line":190,"column":27}},"100":{"start":{"line":192,"column":16},"end":{"line":192,"column":41}},"101":{"start":{"line":193,"column":16},"end":{"line":193,"column":117}},"102":{"start":{"line":194,"column":16},"end":{"line":194,"column":22}},"103":{"start":{"line":200,"column":16},"end":{"line":200,"column":41}},"104":{"start":{"line":201,"column":16},"end":{"line":201,"column":117}},"105":{"start":{"line":202,"column":16},"end":{"line":202,"column":22}},"106":{"start":{"line":204,"column":16},"end":{"line":204,"column":41}},"107":{"start":{"line":205,"column":16},"end":{"line":205,"column":140}},"108":{"start":{"line":206,"column":16},"end":{"line":206,"column":22}},"109":{"start":{"line":208,"column":16},"end":{"line":208,"column":175}},"110":{"start":{"line":209,"column":16},"end":{"line":209,"column":22}},"111":{"start":{"line":212,"column":12},"end":{"line":212,"column":128}},"112":{"start":{"line":217,"column":10},"end":{"line":219,"column":13}},"113":{"start":{"line":222,"column":4},"end":{"line":222,"column":74}},"114":{"start":{"line":224,"column":4},"end":{"line":240,"column":11}},"115":{"start":{"line":225,"column":12},"end":{"line":225,"column":56}},"116":{"start":{"line":226,"column":12},"end":{"line":239,"column":13}},"117":{"start":{"line":227,"column":14},"end":{"line":236,"column":15}},"118":{"start":{"line":228,"column":16},"end":{"line":235,"column":18}},"119":{"start":{"line":229,"column":18},"end":{"line":234,"column":19}},"120":{"start":{"line":230,"column":20},"end":{"line":230,"column":40}},"121":{"start":{"line":232,"column":15},"end":{"line":232,"column":74}},"122":{"start":{"line":233,"column":20},"end":{"line":233,"column":33}},"123":{"start":{"line":238,"column":16},"end":{"line":238,"column":30}}},"branchMap":{"1":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":8}},{"start":{"line":31,"column":8},"end":{"line":31,"column":8}}]},"2":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":12},"end":{"line":41,"column":12}},{"start":{"line":41,"column":12},"end":{"line":41,"column":12}}]},"3":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":10},"end":{"line":71,"column":10}},{"start":{"line":71,"column":10},"end":{"line":71,"column":10}}]},"4":{"line":71,"type":"binary-expr","locations":[{"start":{"line":71,"column":14},"end":{"line":71,"column":41}},{"start":{"line":71,"column":45},"end":{"line":71,"column":72}},{"start":{"line":71,"column":76},"end":{"line":71,"column":109}}]},"5":{"line":105,"type":"switch","locations":[{"start":{"line":106,"column":10},"end":{"line":106,"column":30}},{"start":{"line":107,"column":10},"end":{"line":107,"column":27}},{"start":{"line":108,"column":10},"end":{"line":108,"column":30}},{"start":{"line":109,"column":10},"end":{"line":109,"column":28}},{"start":{"line":110,"column":10},"end":{"line":110,"column":30}},{"start":{"line":111,"column":10},"end":{"line":111,"column":23}},{"start":{"line":112,"column":10},"end":{"line":114,"column":18}},{"start":{"line":118,"column":10},"end":{"line":119,"column":101}}]},"6":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":10},"end":{"line":123,"column":10}},{"start":{"line":123,"column":10},"end":{"line":123,"column":10}}]},"7":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":12},"end":{"line":127,"column":12}},{"start":{"line":127,"column":12},"end":{"line":127,"column":12}}]},"8":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":14},"end":{"line":128,"column":14}},{"start":{"line":128,"column":14},"end":{"line":128,"column":14}}]},"9":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":12},"end":{"line":138,"column":12}},{"start":{"line":138,"column":12},"end":{"line":138,"column":12}}]},"10":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":16},"end":{"line":138,"column":39}},{"start":{"line":138,"column":43},"end":{"line":138,"column":61}}]},"11":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":14},"end":{"line":139,"column":14}},{"start":{"line":139,"column":14},"end":{"line":139,"column":14}}]},"12":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":16},"end":{"line":140,"column":16}},{"start":{"line":140,"column":16},"end":{"line":140,"column":16}}]},"13":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":18},"end":{"line":142,"column":18}},{"start":{"line":142,"column":18},"end":{"line":142,"column":18}}]},"14":{"line":142,"type":"binary-expr","locations":[{"start":{"line":142,"column":22},"end":{"line":142,"column":45}},{"start":{"line":142,"column":49},"end":{"line":142,"column":73}}]},"15":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":21},"end":{"line":153,"column":21}},{"start":{"line":153,"column":21},"end":{"line":153,"column":21}}]},"16":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":12},"end":{"line":161,"column":12}},{"start":{"line":161,"column":12},"end":{"line":161,"column":12}}]},"17":{"line":161,"type":"binary-expr","locations":[{"start":{"line":161,"column":16},"end":{"line":161,"column":39}},{"start":{"line":161,"column":43},"end":{"line":161,"column":70}}]},"18":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":14},"end":{"line":163,"column":14}},{"start":{"line":163,"column":14},"end":{"line":163,"column":14}}]},"19":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":21},"end":{"line":166,"column":21}},{"start":{"line":166,"column":21},"end":{"line":166,"column":21}}]},"20":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":16},"end":{"line":167,"column":16}},{"start":{"line":167,"column":16},"end":{"line":167,"column":16}}]},"21":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":12},"end":{"line":177,"column":12}},{"start":{"line":177,"column":12},"end":{"line":177,"column":12}}]},"22":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":14},"end":{"line":178,"column":14}},{"start":{"line":178,"column":14},"end":{"line":178,"column":14}}]},"23":{"line":182,"type":"binary-expr","locations":[{"start":{"line":182,"column":24},"end":{"line":182,"column":33}},{"start":{"line":182,"column":37},"end":{"line":182,"column":40}}]},"24":{"line":184,"type":"switch","locations":[{"start":{"line":185,"column":14},"end":{"line":185,"column":25}},{"start":{"line":186,"column":14},"end":{"line":186,"column":28}},{"start":{"line":187,"column":14},"end":{"line":190,"column":27}},{"start":{"line":191,"column":14},"end":{"line":194,"column":22}},{"start":{"line":199,"column":14},"end":{"line":202,"column":22}},{"start":{"line":203,"column":14},"end":{"line":206,"column":22}},{"start":{"line":207,"column":14},"end":{"line":209,"column":22}}]},"25":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":12},"end":{"line":226,"column":12}},{"start":{"line":226,"column":12},"end":{"line":226,"column":12}}]},"26":{"line":226,"type":"binary-expr","locations":[{"start":{"line":226,"column":16},"end":{"line":226,"column":29}},{"start":{"line":226,"column":33},"end":{"line":226,"column":60}}]},"27":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":14},"end":{"line":227,"column":14}},{"start":{"line":227,"column":14},"end":{"line":227,"column":14}}]},"28":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":18},"end":{"line":229,"column":18}},{"start":{"line":229,"column":18},"end":{"line":229,"column":18}}]}},"code":["module.exports = function(RED) {","    'use strict';","    var path= require('path');","","    String.prototype.capitalize = function() {","        return this.charAt(0).toUpperCase() + this.slice(1);","    }","","    function FirebaseOnDisconnect(n) {","        RED.nodes.createNode(this,n);","","        this.config = RED.nodes.getNode(n.firebaseconfig);","        this.name = n.name;","        this.childpath = n.childpath;","        this.method = n.method;","        this.value = n.value;","        this.priority = n.priority;","        this.fbRequests = [];","","        this.ready = false;","","        this.validMethods = {","          \"set\": true,","          \"update\": true,","          \"remove\": true,","          \"setWithPriority\": true,","          \"cancel\": true","        }","","        // Check credentials","        if (!this.config) {","            this.status({fill:\"red\", shape:\"ring\", text:\"invalid credentials\"})","            this.error('You need to setup Firebase credentials!');","            return","        }","","        this.fbOnComplete = function(error) {","            //this.log(\"fb oncomplete.  error = \" + error)","            var msg = this.fbRequests.shift() //Firebase will call these in order for us","            //TODO: Once Node-Red supports it, we should flash the Node when we receive this data.","            if(error){","              //this.log(\"firebase synchronization failed\")","              this.error(\"firebase synchronization failed - \" + error, msg)","            }","        }.bind(this);","","","        //this.config.fbConnection EventEmitter Handlers","        this.fbInitializing = function(){  //This isn't being called because its emitted too early...","          // this.log(\"initializing\")","          this.status({fill:\"grey\", shape:\"ring\", text:\"initializing...\"})","          this.ready = false;","        }.bind(this)","","        this.fbConnected = function(){","          // this.log(\"connected\")","          this.status({fill:\"green\", shape:\"ring\", text:\"connected\"})","          // this.ready = false;","        }.bind(this)","","        this.fbDisconnected = function(){","          // this.log(\"disconnected\")","          this.status({fill:\"red\", shape:\"ring\", text:\"disconnected\"})","          this.ready = false;","        }.bind(this)","","        this.fbAuthorized = function(authData){","          // this.log(\"authorized\")","          this.status({fill:\"green\", shape:\"dot\", text:\"ready\"})","          this.ready = true;","          if (this.value != \"msg.payload\" && this.method != \"msg.method\" && this.childpath != \"msg.childpath\"){","            //this.warn(\"FB Authorized -- explicitly emitting event INPUT\");","            this.emit('input', {});","          }","        }.bind(this)","","        this.fbUnauthorized = function(){","          // this.log(\"unauthorized\")","          this.status({fill:\"red\", shape:\"dot\", text:\"unauthorized\"})","          this.ready = false;","        }.bind(this)","","        this.fbError = function(error){","          // this.log(\"error\")","          this.status({fill:\"red\", shape:\"ring\", text:error})","          this.error(error, {})","        }.bind(this)","","        this.fbClosed = function(error){","          // this.log(\"closed\")","          this.status({fill: \"gray\", shape: \"dot\", text:\"connection closed\"})","          this.ready = false;","        }.bind(this)","","        //Register Handlers","        this.config.fbConnection.on(\"initializing\", this.fbInitializing)","        this.config.fbConnection.on(\"connected\", this.fbConnected)","        this.config.fbConnection.on(\"disconnected\", this.fbDisconnected)","        this.config.fbConnection.on(\"authorized\", this.fbAuthorized)","        this.config.fbConnection.on(\"unauthorized\", this.fbUnauthorized)","        this.config.fbConnection.on(\"error\", this.fbError)","        this.config.fbConnection.on(\"closed\", this.fbClosed)","","        //set initial state (depending on the deployment strategy, for newly deployed nodes, some of the events may not be refired...)","        switch(this.config.fbConnection.lastEvent) {","          case \"initializing\":","          case \"connected\":","          case \"disconnected\":","          case \"authorized\":","          case \"unauthorized\":","          case \"error\":","          case \"closed\":","            this[\"fb\" + this.config.fbConnection.lastEvent.capitalize()](this.config.fbConnection.lastEventData)  //Javascript is really friendly about sending arguments to functions...","            break;","          // case \"undefined\":","          // case \"null\":","          //   break;  //Config node not yet setup","          default:","            this.error(\"Bad lastEvent Data from Config Node - \" + this.config.fbConnection.lastEvent)","        }","","        this.on('input', function(msg) {","          if(this.ready){","","            //Parse out msg.method","            var method = this.method","            if(method == \"msg.method\"){","              if(\"method\" in msg){","                method = msg.method","              } else {","                this.error(\"Expected \\\"method\\\" property not in msg object, .onDisconnect() will not be set\", msg)","                return;","              }","            }","","            //Parse out msg.payload","            var value = this.value;","            if (method != \"setPriority\" && method != \"cancel\"){","              if (value == \"msg.payload\"){","                if (\"payload\" in msg){","                  value = msg.payload;","                  if (!Buffer.isBuffer(value) && typeof value != \"object\"){","                    try {","                      value = JSON.parse(value)","                    } catch(e){","                      value = msg.payload.toString();","                    }","                  }","                } else {","                  this.warn(\"Expected \\\"payload\\\" property not in msg object (setting payload to \\\"null\\\")\", msg);","                  value = null;","                }","              } else if(this.value == \"Firebase.ServerValue.TIMESTAMP\") {","                value = this.config.fbConnection.Firebase.ServerValue.TIMESTAMP","              }","              msg.payload = value;","            }","","            //Parse out msg.priority","            var priority = null;","            if (method == \"setPriority\" || method == \"setWithPriority\"){","              priority = this.priority;","              if (priority == null){","                this.error(\"Expected \\\"priority\\\" property not included, .onDisconnect() will not be set\", msg)","                return;","              } else if (priority == \"msg.priority\"){","                if (\"priority\" in msg) priority = msg.priority;","                else {","                  this.error(\"Expected \\\"priority\\\" property in msg object, .onDisconnect() will not be set\", msg)","                  return;","                }","              }","            }","","            //Parse out msg.childpath","            var childpath = this.childpath","            if(childpath == \"msg.childpath\"){","              if(\"childpath\" in msg){","                childpath = msg.childpath","              }","            }","            childpath = childpath || \"/\"","","            switch (method) {","              case \"set\":","              case \"update\":","              case \"push\":","                this.fbRequests.push(msg)","                this.config.fbConnection.fbRef.child(childpath).onDisconnect()[method](msg.payload, this.fbOnComplete.bind(this)); //TODO: Why doesn't the Firebase API support passing a context to these calls?","                break;javas","              case \"remove\":","                this.fbRequests.push(msg)","                this.config.fbConnection.fbRef.child(childpath).onDisconnect()[method](this.fbOnComplete.bind(this));","                break;","              // case \"setPriority\":","              //   this.fbRequests.push(msg)","              //   this.config.fbConnection.fbRef.child(childpath).onDisconnect()[method](priority, this.fbOnComplete.bind(this));","              //   break;","              case \"cancel\":","                this.fbRequests.push(msg)","                this.config.fbConnection.fbRef.child(childpath).onDisconnect()[method](this.fbOnComplete.bind(this));","                break;","              case \"setWithPriority\":","                this.fbRequests.push(msg)","                this.config.fbConnection.fbRef.child(childpath).onDisconnect()[method](msg.payload, priority, this.fbOnComplete.bind(this));","                break;","              default:","                this.error(\"Invalid msg.method property \\\"\" + method + \"\\\".  Expected one of the following: [\\\"\" + Object.keys(this.validMethods).join(\"\\\", \\\"\") + \"\\\"].\", msg)","                break;","            }","          } else {","            this.warn(\"Received msg before firebase modify node was ready.  Not processing: \" + JSON.stringify(msg, null, \"\\t\"))","          }","        });","","","          this.on('close', function() {","            //Cancel modify request to firebase??","          });","","    }","    RED.nodes.registerType(\"firebase ondisconnect\", FirebaseOnDisconnect);","","    RED.httpAdmin.post(\"/firebase/:id/cancelOnDisconnect\", RED.auth.needsPermission(\"firebase.write\"), function(req,res) {","            var node = RED.nodes.getNode(req.params.id);","            if (node !== null && typeof node !== \"undefined\" ) {","              if(node.ready){","                node.config.fbConnection.fbRef.onDisconnect().cancel(function(error){","                  if(error){","                    res.send(502, error)","                  } else{","\t\t\t\t\t          node.warn(\"Cancelling all firebase.onDisconnect() values\");","                    res.send(200)","                  }","                }) //Cancel all previously queued onDisconnect() set or update events for this location and all children","              }","            } else {","                res.send(404);","            }","        });","};",""],"l":{"1":1,"3":0,"5":0,"6":0,"9":1,"10":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"20":0,"22":0,"31":0,"32":0,"33":0,"34":0,"37":0,"39":0,"41":0,"43":0,"49":0,"51":0,"52":0,"55":0,"57":0,"61":0,"63":0,"64":0,"67":0,"69":0,"70":0,"71":0,"73":0,"77":0,"79":0,"80":0,"83":0,"85":0,"86":0,"89":0,"91":0,"92":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"105":0,"113":0,"114":0,"119":0,"122":0,"123":0,"126":0,"127":0,"128":0,"129":0,"131":0,"132":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"146":0,"150":0,"151":0,"153":0,"154":0,"156":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"169":0,"170":0,"176":0,"177":0,"178":0,"179":0,"182":0,"184":0,"188":0,"189":0,"190":0,"192":0,"193":0,"194":0,"200":0,"201":0,"202":0,"204":0,"205":0,"206":0,"208":0,"209":0,"212":0,"217":0,"222":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"232":0,"233":0,"238":0}},"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_on.js":{"path":"/home/travis/build/npmtest/node-npmtest-node-red-contrib-firebase/node_modules/node-red-contrib-firebase/firebase/firebase_on.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0,0,0,0,0,0,0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0,0,0,0,0,0,0],"22":[0,0],"23":[0,0],"24":[0,0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":31}}},"2":{"name":"getPushIdTimestamp","line":4,"loc":{"start":{"line":4,"column":30},"end":{"line":4,"column":60}}},"3":{"name":"getTimestampFromId","line":7,"loc":{"start":{"line":7,"column":13},"end":{"line":7,"column":45}}},"4":{"name":"FirebaseOn","line":21,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":27}}},"5":{"name":"(anonymous_5)","line":51,"loc":{"start":{"line":51,"column":25},"end":{"line":51,"column":59}}},"6":{"name":"(anonymous_6)","line":81,"loc":{"start":{"line":81,"column":25},"end":{"line":81,"column":40}}},"7":{"name":"(anonymous_7)","line":87,"loc":{"start":{"line":87,"column":33},"end":{"line":87,"column":46}}},"8":{"name":"(anonymous_8)","line":140,"loc":{"start":{"line":140,"column":32},"end":{"line":140,"column":42}}},"9":{"name":"(anonymous_9)","line":162,"loc":{"start":{"line":162,"column":25},"end":{"line":162,"column":40}}},"10":{"name":"(anonymous_10)","line":196,"loc":{"start":{"line":196,"column":30},"end":{"line":196,"column":40}}},"11":{"name":"(anonymous_11)","line":201,"loc":{"start":{"line":201,"column":27},"end":{"line":201,"column":37}}},"12":{"name":"(anonymous_12)","line":206,"loc":{"start":{"line":206,"column":30},"end":{"line":206,"column":40}}},"13":{"name":"(anonymous_13)","line":211,"loc":{"start":{"line":211,"column":28},"end":{"line":211,"column":46}}},"14":{"name":"(anonymous_14)","line":221,"loc":{"start":{"line":221,"column":30},"end":{"line":221,"column":40}}},"15":{"name":"(anonymous_15)","line":228,"loc":{"start":{"line":228,"column":23},"end":{"line":228,"column":38}}},"16":{"name":"(anonymous_16)","line":234,"loc":{"start":{"line":234,"column":24},"end":{"line":234,"column":34}}},"17":{"name":"(anonymous_17)","line":255,"loc":{"start":{"line":255,"column":25},"end":{"line":255,"column":39}}},"18":{"name":"(anonymous_18)","line":301,"loc":{"start":{"line":301,"column":25},"end":{"line":301,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":307,"column":2}},"2":{"start":{"line":4,"column":4},"end":{"line":19,"column":9}},"3":{"start":{"line":5,"column":6},"end":{"line":5,"column":90}},"4":{"start":{"line":7,"column":6},"end":{"line":18,"column":7}},"5":{"start":{"line":8,"column":8},"end":{"line":17,"column":21}},"6":{"start":{"line":9,"column":10},"end":{"line":9,"column":23}},"7":{"start":{"line":10,"column":10},"end":{"line":10,"column":37}},"8":{"start":{"line":12,"column":10},"end":{"line":14,"column":11}},"9":{"start":{"line":13,"column":12},"end":{"line":13,"column":59}},"10":{"start":{"line":16,"column":10},"end":{"line":16,"column":22}},"11":{"start":{"line":21,"column":4},"end":{"line":305,"column":5}},"12":{"start":{"line":22,"column":8},"end":{"line":22,"column":37}},"13":{"start":{"line":24,"column":8},"end":{"line":24,"column":58}},"14":{"start":{"line":25,"column":8},"end":{"line":25,"column":37}},"15":{"start":{"line":26,"column":8},"end":{"line":26,"column":33}},"16":{"start":{"line":27,"column":8},"end":{"line":27,"column":37}},"17":{"start":{"line":28,"column":6},"end":{"line":28,"column":30}},"18":{"start":{"line":30,"column":8},"end":{"line":30,"column":27}},"19":{"start":{"line":31,"column":8},"end":{"line":31,"column":40}},"20":{"start":{"line":32,"column":8},"end":{"line":32,"column":32}},"21":{"start":{"line":33,"column":8},"end":{"line":33,"column":24}},"22":{"start":{"line":36,"column":8},"end":{"line":40,"column":9}},"23":{"start":{"line":37,"column":12},"end":{"line":37,"column":79}},"24":{"start":{"line":38,"column":12},"end":{"line":38,"column":66}},"25":{"start":{"line":39,"column":12},"end":{"line":39,"column":18}},"26":{"start":{"line":42,"column":8},"end":{"line":49,"column":9}},"27":{"start":{"line":51,"column":8},"end":{"line":79,"column":21}},"28":{"start":{"line":54,"column":12},"end":{"line":57,"column":13}},"29":{"start":{"line":55,"column":14},"end":{"line":55,"column":37}},"30":{"start":{"line":56,"column":14},"end":{"line":56,"column":21}},"31":{"start":{"line":59,"column":12},"end":{"line":59,"column":72}},"32":{"start":{"line":65,"column":12},"end":{"line":65,"column":25}},"33":{"start":{"line":66,"column":12},"end":{"line":66,"column":49}},"34":{"start":{"line":67,"column":12},"end":{"line":67,"column":37}},"35":{"start":{"line":68,"column":12},"end":{"line":68,"column":41}},"36":{"start":{"line":69,"column":12},"end":{"line":70,"column":52}},"37":{"start":{"line":70,"column":14},"end":{"line":70,"column":52}},"38":{"start":{"line":71,"column":12},"end":{"line":72,"column":52}},"39":{"start":{"line":72,"column":14},"end":{"line":72,"column":52}},"40":{"start":{"line":73,"column":12},"end":{"line":74,"column":63}},"41":{"start":{"line":74,"column":14},"end":{"line":74,"column":63}},"42":{"start":{"line":77,"column":12},"end":{"line":77,"column":27}},"43":{"start":{"line":78,"column":12},"end":{"line":78,"column":43}},"44":{"start":{"line":81,"column":8},"end":{"line":85,"column":21}},"45":{"start":{"line":82,"column":10},"end":{"line":82,"column":31}},"46":{"start":{"line":83,"column":10},"end":{"line":83,"column":76}},"47":{"start":{"line":84,"column":10},"end":{"line":84,"column":42}},"48":{"start":{"line":87,"column":8},"end":{"line":138,"column":21}},"49":{"start":{"line":90,"column":10},"end":{"line":91,"column":18}},"50":{"start":{"line":91,"column":12},"end":{"line":91,"column":18}},"51":{"start":{"line":93,"column":10},"end":{"line":93,"column":28}},"52":{"start":{"line":94,"column":10},"end":{"line":94,"column":42}},"53":{"start":{"line":97,"column":10},"end":{"line":97,"column":17}},"54":{"start":{"line":98,"column":10},"end":{"line":102,"column":11}},"55":{"start":{"line":99,"column":12},"end":{"line":99,"column":128}},"56":{"start":{"line":101,"column":12},"end":{"line":101,"column":48}},"57":{"start":{"line":105,"column":10},"end":{"line":133,"column":11}},"58":{"start":{"line":106,"column":14},"end":{"line":106,"column":42}},"59":{"start":{"line":107,"column":14},"end":{"line":107,"column":21}},"60":{"start":{"line":109,"column":14},"end":{"line":132,"column":15}},"61":{"start":{"line":113,"column":18},"end":{"line":113,"column":41}},"62":{"start":{"line":114,"column":18},"end":{"line":114,"column":24}},"63":{"start":{"line":123,"column":18},"end":{"line":124,"column":46}},"64":{"start":{"line":123,"column":23},"end":{"line":123,"column":82}},"65":{"start":{"line":124,"column":28},"end":{"line":124,"column":45}},"66":{"start":{"line":126,"column":18},"end":{"line":126,"column":44}},"67":{"start":{"line":127,"column":18},"end":{"line":127,"column":24}},"68":{"start":{"line":131,"column":18},"end":{"line":131,"column":24}},"69":{"start":{"line":135,"column":10},"end":{"line":135,"column":128}},"70":{"start":{"line":140,"column":8},"end":{"line":160,"column":21}},"71":{"start":{"line":141,"column":10},"end":{"line":142,"column":19}},"72":{"start":{"line":142,"column":12},"end":{"line":142,"column":19}},"73":{"start":{"line":145,"column":10},"end":{"line":155,"column":11}},"74":{"start":{"line":146,"column":12},"end":{"line":149,"column":87}},"75":{"start":{"line":147,"column":14},"end":{"line":147,"column":109}},"76":{"start":{"line":149,"column":14},"end":{"line":149,"column":87}},"77":{"start":{"line":151,"column":12},"end":{"line":154,"column":144}},"78":{"start":{"line":152,"column":14},"end":{"line":152,"column":224}},"79":{"start":{"line":154,"column":14},"end":{"line":154,"column":144}},"80":{"start":{"line":157,"column":10},"end":{"line":157,"column":29}},"81":{"start":{"line":158,"column":10},"end":{"line":158,"column":27}},"82":{"start":{"line":162,"column":8},"end":{"line":193,"column":20}},"83":{"start":{"line":164,"column":10},"end":{"line":191,"column":11}},"84":{"start":{"line":166,"column":14},"end":{"line":166,"column":78}},"85":{"start":{"line":167,"column":14},"end":{"line":167,"column":20}},"86":{"start":{"line":169,"column":14},"end":{"line":169,"column":73}},"87":{"start":{"line":170,"column":14},"end":{"line":170,"column":20}},"88":{"start":{"line":172,"column":14},"end":{"line":172,"column":74}},"89":{"start":{"line":173,"column":14},"end":{"line":173,"column":20}},"90":{"start":{"line":175,"column":14},"end":{"line":175,"column":68}},"91":{"start":{"line":176,"column":14},"end":{"line":176,"column":20}},"92":{"start":{"line":178,"column":14},"end":{"line":178,"column":73}},"93":{"start":{"line":179,"column":14},"end":{"line":179,"column":20}},"94":{"start":{"line":181,"column":14},"end":{"line":181,"column":76}},"95":{"start":{"line":182,"column":14},"end":{"line":182,"column":20}},"96":{"start":{"line":184,"column":14},"end":{"line":184,"column":81}},"97":{"start":{"line":185,"column":14},"end":{"line":185,"column":20}},"98":{"start":{"line":190,"column":14},"end":{"line":190,"column":103}},"99":{"start":{"line":196,"column":8},"end":{"line":199,"column":20}},"100":{"start":{"line":198,"column":10},"end":{"line":198,"column":27}},"101":{"start":{"line":201,"column":8},"end":{"line":204,"column":20}},"102":{"start":{"line":203,"column":10},"end":{"line":203,"column":27}},"103":{"start":{"line":206,"column":8},"end":{"line":209,"column":20}},"104":{"start":{"line":208,"column":10},"end":{"line":208,"column":27}},"105":{"start":{"line":211,"column":8},"end":{"line":219,"column":20}},"106":{"start":{"line":213,"column":10},"end":{"line":213,"column":33}},"107":{"start":{"line":214,"column":10},"end":{"line":214,"column":27}},"108":{"start":{"line":216,"column":10},"end":{"line":217,"column":37}},"109":{"start":{"line":217,"column":12},"end":{"line":217,"column":37}},"110":{"start":{"line":221,"column":8},"end":{"line":226,"column":20}},"111":{"start":{"line":223,"column":10},"end":{"line":223,"column":34}},"112":{"start":{"line":224,"column":10},"end":{"line":224,"column":27}},"113":{"start":{"line":225,"column":10},"end":{"line":225,"column":34}},"114":{"start":{"line":228,"column":8},"end":{"line":232,"column":20}},"115":{"start":{"line":230,"column":10},"end":{"line":230,"column":32}},"116":{"start":{"line":231,"column":10},"end":{"line":231,"column":31}},"117":{"start":{"line":234,"column":8},"end":{"line":238,"column":20}},"118":{"start":{"line":236,"column":10},"end":{"line":236,"column":27}},"119":{"start":{"line":237,"column":10},"end":{"line":237,"column":34}},"120":{"start":{"line":242,"column":8},"end":{"line":242,"column":72}},"121":{"start":{"line":243,"column":8},"end":{"line":243,"column":66}},"122":{"start":{"line":244,"column":8},"end":{"line":244,"column":72}},"123":{"start":{"line":245,"column":8},"end":{"line":245,"column":68}},"124":{"start":{"line":246,"column":8},"end":{"line":246,"column":72}},"125":{"start":{"line":247,"column":8},"end":{"line":247,"column":58}},"126":{"start":{"line":248,"column":8},"end":{"line":248,"column":60}},"127":{"start":{"line":253,"column":8},"end":{"line":253,"column":108}},"128":{"start":{"line":255,"column":8},"end":{"line":299,"column":22}},"129":{"start":{"line":256,"column":10},"end":{"line":256,"column":23}},"130":{"start":{"line":257,"column":10},"end":{"line":266,"column":11}},"131":{"start":{"line":258,"column":12},"end":{"line":263,"column":13}},"132":{"start":{"line":259,"column":14},"end":{"line":259,"column":39}},"133":{"start":{"line":261,"column":14},"end":{"line":261,"column":78}},"134":{"start":{"line":262,"column":14},"end":{"line":262,"column":21}},"135":{"start":{"line":265,"column":12},"end":{"line":265,"column":38}},"136":{"start":{"line":268,"column":10},"end":{"line":271,"column":11}},"137":{"start":{"line":269,"column":12},"end":{"line":269,"column":180}},"138":{"start":{"line":270,"column":12},"end":{"line":270,"column":19}},"139":{"start":{"line":274,"column":10},"end":{"line":274,"column":23}},"140":{"start":{"line":275,"column":10},"end":{"line":279,"column":11}},"141":{"start":{"line":276,"column":12},"end":{"line":278,"column":13}},"142":{"start":{"line":277,"column":14},"end":{"line":277,"column":39}},"143":{"start":{"line":280,"column":10},"end":{"line":280,"column":38}},"144":{"start":{"line":282,"column":10},"end":{"line":282,"column":36}},"145":{"start":{"line":283,"column":10},"end":{"line":283,"column":43}},"146":{"start":{"line":285,"column":10},"end":{"line":285,"column":25}},"147":{"start":{"line":286,"column":10},"end":{"line":286,"column":36}},"148":{"start":{"line":290,"column":10},"end":{"line":297,"column":11}},"149":{"start":{"line":291,"column":12},"end":{"line":296,"column":13}},"150":{"start":{"line":292,"column":14},"end":{"line":292,"column":38}},"151":{"start":{"line":293,"column":14},"end":{"line":293,"column":39}},"152":{"start":{"line":295,"column":14},"end":{"line":295,"column":39}},"153":{"start":{"line":301,"column":8},"end":{"line":303,"column":22}},"154":{"start":{"line":302,"column":10},"end":{"line":302,"column":34}},"155":{"start":{"line":306,"column":4},"end":{"line":306,"column":54}}},"branchMap":{"1":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":36,"column":8}},{"start":{"line":36,"column":8},"end":{"line":36,"column":8}}]},"2":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":12},"end":{"line":54,"column":12}},{"start":{"line":54,"column":12},"end":{"line":54,"column":12}}]},"3":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":12},"end":{"line":69,"column":12}},{"start":{"line":69,"column":12},"end":{"line":69,"column":12}}]},"4":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":12},"end":{"line":71,"column":12}},{"start":{"line":71,"column":12},"end":{"line":71,"column":12}}]},"5":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":12},"end":{"line":73,"column":12}},{"start":{"line":73,"column":12},"end":{"line":73,"column":12}}]},"6":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":15},"end":{"line":73,"column":51}},{"start":{"line":73,"column":55},"end":{"line":73,"column":82}}]},"7":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":52},"end":{"line":83,"column":62}},{"start":{"line":83,"column":66},"end":{"line":83,"column":73}}]},"8":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":10},"end":{"line":90,"column":10}},{"start":{"line":90,"column":10},"end":{"line":90,"column":10}}]},"9":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":10},"end":{"line":98,"column":10}},{"start":{"line":98,"column":10},"end":{"line":98,"column":10}}]},"10":{"line":99,"type":"cond-expr","locations":[{"start":{"line":99,"column":92},"end":{"line":99,"column":110}},{"start":{"line":99,"column":113},"end":{"line":99,"column":127}}]},"11":{"line":109,"type":"switch","locations":[{"start":{"line":110,"column":16},"end":{"line":110,"column":34}},{"start":{"line":111,"column":16},"end":{"line":111,"column":36}},{"start":{"line":112,"column":16},"end":{"line":114,"column":24}},{"start":{"line":116,"column":16},"end":{"line":116,"column":36}},{"start":{"line":117,"column":16},"end":{"line":117,"column":31}},{"start":{"line":118,"column":16},"end":{"line":118,"column":29}},{"start":{"line":119,"column":16},"end":{"line":119,"column":31}},{"start":{"line":120,"column":16},"end":{"line":120,"column":36}},{"start":{"line":121,"column":16},"end":{"line":127,"column":24}},{"start":{"line":129,"column":16},"end":{"line":131,"column":24}}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":40},"end":{"line":123,"column":65}},{"start":{"line":123,"column":69},"end":{"line":123,"column":80}}]},"13":{"line":135,"type":"cond-expr","locations":[{"start":{"line":135,"column":53},"end":{"line":135,"column":71}},{"start":{"line":135,"column":74},"end":{"line":135,"column":88}}]},"14":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":10},"end":{"line":141,"column":10}},{"start":{"line":141,"column":10},"end":{"line":141,"column":10}}]},"15":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":10},"end":{"line":145,"column":10}},{"start":{"line":145,"column":10},"end":{"line":145,"column":10}}]},"16":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":12},"end":{"line":146,"column":12}},{"start":{"line":146,"column":12},"end":{"line":146,"column":12}}]},"17":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":12},"end":{"line":151,"column":12}},{"start":{"line":151,"column":12},"end":{"line":151,"column":12}}]},"18":{"line":152,"type":"cond-expr","locations":[{"start":{"line":152,"column":88},"end":{"line":152,"column":106}},{"start":{"line":152,"column":109},"end":{"line":152,"column":123}}]},"19":{"line":152,"type":"cond-expr","locations":[{"start":{"line":152,"column":165},"end":{"line":152,"column":183}},{"start":{"line":152,"column":186},"end":{"line":152,"column":200}}]},"20":{"line":154,"type":"cond-expr","locations":[{"start":{"line":154,"column":85},"end":{"line":154,"column":103}},{"start":{"line":154,"column":106},"end":{"line":154,"column":120}}]},"21":{"line":164,"type":"switch","locations":[{"start":{"line":165,"column":12},"end":{"line":167,"column":20}},{"start":{"line":168,"column":12},"end":{"line":170,"column":20}},{"start":{"line":171,"column":12},"end":{"line":173,"column":20}},{"start":{"line":174,"column":12},"end":{"line":176,"column":20}},{"start":{"line":177,"column":12},"end":{"line":179,"column":20}},{"start":{"line":180,"column":12},"end":{"line":182,"column":20}},{"start":{"line":183,"column":12},"end":{"line":185,"column":20}},{"start":{"line":189,"column":12},"end":{"line":190,"column":103}}]},"22":{"line":181,"type":"binary-expr","locations":[{"start":{"line":181,"column":58},"end":{"line":181,"column":63}},{"start":{"line":181,"column":67},"end":{"line":181,"column":74}}]},"23":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":10},"end":{"line":216,"column":10}},{"start":{"line":216,"column":10},"end":{"line":216,"column":10}}]},"24":{"line":216,"type":"binary-expr","locations":[{"start":{"line":216,"column":14},"end":{"line":216,"column":47}},{"start":{"line":216,"column":51},"end":{"line":216,"column":84}},{"start":{"line":216,"column":89},"end":{"line":216,"column":105}}]},"25":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":10},"end":{"line":257,"column":10}},{"start":{"line":257,"column":10},"end":{"line":257,"column":10}}]},"26":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":12},"end":{"line":258,"column":12}},{"start":{"line":258,"column":12},"end":{"line":258,"column":12}}]},"27":{"line":268,"type":"if","locations":[{"start":{"line":268,"column":10},"end":{"line":268,"column":10}},{"start":{"line":268,"column":10},"end":{"line":268,"column":10}}]},"28":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":10},"end":{"line":275,"column":10}},{"start":{"line":275,"column":10},"end":{"line":275,"column":10}}]},"29":{"line":276,"type":"if","locations":[{"start":{"line":276,"column":12},"end":{"line":276,"column":12}},{"start":{"line":276,"column":12},"end":{"line":276,"column":12}}]},"30":{"line":280,"type":"binary-expr","locations":[{"start":{"line":280,"column":22},"end":{"line":280,"column":31}},{"start":{"line":280,"column":35},"end":{"line":280,"column":38}}]},"31":{"line":283,"type":"binary-expr","locations":[{"start":{"line":283,"column":26},"end":{"line":283,"column":35}},{"start":{"line":283,"column":39},"end":{"line":283,"column":42}}]},"32":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":10},"end":{"line":290,"column":10}},{"start":{"line":290,"column":10},"end":{"line":290,"column":10}}]},"33":{"line":291,"type":"if","locations":[{"start":{"line":291,"column":12},"end":{"line":291,"column":12}},{"start":{"line":291,"column":12},"end":{"line":291,"column":12}}]}},"code":["module.exports = function(RED) {","    'use strict';","","    var getPushIdTimestamp = (function getPushIdTimestamp() {","      var PUSH_CHARS = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';","","      return function getTimestampFromId(id) {","        try {","          var time = 0;","          var data = id.substr(0, 8);","","          for (var i = 0; i < 8; i++) {","            time = time * 64 + PUSH_CHARS.indexOf(data[i]);","          }","","          return time;","        } catch(ex){}","      }","    })();","","    function FirebaseOn(n) {","        RED.nodes.createNode(this,n);","","        this.config = RED.nodes.getNode(n.firebaseconfig);","        this.childpath = n.childpath;","        this.atStart = n.atStart;","        this.eventType = n.eventType;","\t\t    this.queries = n.queries","","        this.ready = false;","        this.ignoreFirst = this.atStart;","        this.authorized = false;","        this.msg = null;","","        // Check credentials","        if (!this.config) {","            this.status({fill:\"red\", shape:\"ring\", text:\"invalid credentials\"})","            this.error('You need to setup Firebase credentials!');","            return","        }","","        this.validEventTypes = {","          \"value\": true,","          \"child_added\": true,","          \"child_changed\": true,","          \"chiled_removed\": true,","          \"child_moved\": true,","          \"shallow_query\": true","        }","","        this.onFBValue = function(snapshot, prevChildName) {","            //console.log(\"In onFBValue + \" + JSON.stringify(snapshot.val()))","","            if(this.ignoreFirst == false){","              this.ignoreFirst = true","              return;","            }","","            this.status({fill:\"blue\",shape:\"dot\",text:\"received data\"});","","            // if(!snapshot.exists()){","            //   //The code below will simply send a payload of nul if there is no data","            // }","","            var msg = {};","            msg.href = snapshot.ref().toString();","            msg.key = snapshot.key();","            msg.payload = snapshot.val();","            if(snapshot.getPriority())","              msg.priority = snapshot.getPriority();","            if(prevChildName)","              msg.previousChildName = prevChildName;","            if(this.eventType.search(\"child\") != -1 && getPushIdTimestamp(msg.key))  //We probably have a pushID that we can decode","              msg.pushIDTimestamp = getPushIdTimestamp(msg.key)","","","            this.send(msg);","            setTimeout(this.setStatus, 500)  //Reset back to the Firebase status after 0.5 seconds","        }.bind(this);","","        this.onFBError = function(error){","          this.error(error, {})","          this.status({fill:\"red\",shape:\"ring\",text:error.code || \"error\"});","          setTimeout(this.setStatus, 5000)  //Reset back to the Firebase status after 5 seconds","        }.bind(this);","","        this.registerListeners = function(msg){","          //this.log(\"Registering Listener for \" + this.config.firebaseurl + (this.childpath || \"\"))","","          if(this.ready == true)","            return  //Listeners are already created","","          this.ready = true;","          this.ignoreFirst = this.atStart;  //Reset if we are re-registering listeners","","          //Create the firebase reference to the path","          var ref","          if(this.childpath){","            ref = this.config.fbConnection.fbRef.child(this.childpath  == \"msg.childpath\" ? this.msg.childpath : this.childpath)  //Decide if we are using our input msg object or the string we were configured with","          } else {","            ref = this.config.fbConnection.fbRef","          }","","          //apply the queries","          for (var i=0; i<this.queries.length; i+=1) {","              var query = this.queries[i];","              var val","","              switch(query.name){","                case \"orderByKey\":","                case \"orderByValue\":","                case \"orderByPriority\":","                  ref = ref[query.name]()  //No args //TODO: BUG: Update HTML to hide box for these 3...","                  break;","","                case \"orderByChild\":","                case \"startAt\":","                case \"endAt\":","                case \"equalTo\":","                case \"limitToFirst\":","                case \"limitToLast\":","                  //try to convert to native type for bools, ints, etc.","                  try{ val = JSON.parse(query.value.toLowerCase() || query.value) }","                  catch(e){ val = query.value}","","                  ref = ref[query.name](val) //TODO: no error checking...","                  break;","","                default:","                  //TODO:","                  break;","              }","          }","","          ref.on(this.eventType == \"msg.eventType\" ? this.msg.eventType : this.eventType, this.onFBValue, this.onFBError, this);","","","        }.bind(this);","","        this.destroyListeners = function(){","          if(this.ready == false)","            return;","","          // We need to unbind our callback, or we'll get duplicate messages when we redeploy","          if(this.msg == null){ //Not using in input mode - do what we've always done","            if(this.childpath)","              this.config.fbConnection.fbRef.child(this.childpath).off(this.eventType, this.onFBValue, this);","            else","              this.config.fbConnection.fbRef.off(this.eventType, this.onFBValue, this);","          } else {  // We've been set by our input port","            if(this.childpath)","              this.config.fbConnection.fbRef.child(this.childpath  == \"msg.childpath\" ? this.msg.childpath : this.childpath).off(this.eventType == \"msg.eventType\" ? this.msg.eventType : this.eventType, this.onFBValue, this);","            else","              this.config.fbConnection.fbRef.off(this.eventType == \"msg.eventType\" ? this.msg.eventType : this.eventType, this.onFBValue, this);","          }","","          this.ready = false;","          this.msg == null;","","        }.bind(this);","","        this.setStatus = function(error){","          //set = state (depending on the deployment strategy, for newly deployed nodes, some of the events may not be refired...)","          switch(this.config.fbConnection.lastEvent) {","            case \"initializing\":","              this.status({fill:\"grey\", shape:\"ring\", text:\"initializing...\"})","              break;","            case \"connected\":","              this.status({fill:\"green\", shape:\"ring\", text:\"connected\"})","              break;","            case \"disconnected\":","              this.status({fill:\"red\", shape:\"ring\", text:\"disconnected\"})","              break;","            case \"authorized\":","              this.status({fill:\"green\", shape:\"dot\", text:\"ready\"})","              break;","            case \"unauthorized\":","              this.status({fill:\"red\", shape:\"dot\", text:\"unauthorized\"})","              break;","            case \"error\":","              this.status({fill:\"red\", shape:\"ring\", text:error || \"error\"}) //TODO: should we store the last error?","              break;","            case \"closed\":","              this.status({fill: \"gray\", shape: \"dot\", text:\"connection closed\"})","              break;","            // case \"undefined\":","            // case \"null\":","            //   break;  //Config node not yet setup","            default:","              this.error(\"Bad lastEvent Data from Config Node - \" + this.config.fbConnection.lastEvent)","          }","","        }.bind(this)","","        //this.config.fbConnection EventEmitter Handlers","        this.fbInitializing = function(){  //This isn't being called because its emitted too early...","          // this.log(\"initializing\")","          this.setStatus();","        }.bind(this)","","        this.fbConnected = function(){","          // this.log(\"connected\")","          this.setStatus();","        }.bind(this)","","        this.fbDisconnected = function(){","          // this.log(\"disconnected\")","          this.setStatus();","        }.bind(this)","","        this.fbAuthorized = function(authData){","          // this.log(\"authorized\")","          this.authorized = true;","          this.setStatus();","","          if((this.eventType != \"msg.eventType\" && this.childpath != \"msg.childpath\") || this.msg != null)","            this.registerListeners();","","        }.bind(this)","","        this.fbUnauthorized = function(){","          // this.log(\"unauthorized\")","          this.authorized = false;","          this.setStatus();","          this.destroyListeners();","        }.bind(this)","","        this.fbError = function(error){","          // this.log(\"error - \" + error)","          this.setStatus(error);","          this.error(error, {})","        }.bind(this)","","        this.fbClosed = function(){","          // this.log(\"closed\")","          this.setStatus();","          this.destroyListeners();  //TODO: this is being called in too many places but better safe than sorry?  Really need to figure out execution flow of Node-Red and decide if we can only have it here instead of also in this.on(\"close\")","        }.bind(this)","","","        //Register Handlers","        this.config.fbConnection.on(\"initializing\", this.fbInitializing)","        this.config.fbConnection.on(\"connected\", this.fbConnected)","        this.config.fbConnection.on(\"disconnected\", this.fbDisconnected)","        this.config.fbConnection.on(\"authorized\", this.fbAuthorized)","        this.config.fbConnection.on(\"unauthorized\", this.fbUnauthorized)","        this.config.fbConnection.on(\"error\", this.fbError)","        this.config.fbConnection.on(\"closed\", this.fbClosed)","","        // this.log(\"setting initial state to [fb\" + this.config.fbConnection.lastEvent.capitalize()+ \"](\"+this.config.fbConnection.lastEventData+\")\" )","","        //set initial state (depending on the deployment strategy, for newly deployed nodes, some of the events may not be refired...)","        this[\"fb\" + this.config.fbConnection.lastEvent.capitalize()](this.config.fbConnection.lastEventData)  //Javascript is really friendly about sending arguments to functions...","","        this.on('input', function(msg) {","          var eventType","          if(this.eventType == \"msg.eventType\"){","            if(\"eventType\" in msg){","              eventType = msg.eventType","            } else {","              this.error(\"Expected \\\"eventType\\\" property in msg object\", msg)","              return;","            }","          } else {","            eventType = this.eventType","          }","","          if(!(eventType in this.validEventTypes)){","            this.error(\"Invalid msg.eventType property \\\"\" + eventType + \"\\\".  Expected one of the following: [\\\"\" + Object.keys(this.validEventTypes).join(\"\\\", \\\"\") + \"\\\"].\", msg)","            return;","          }","","          //Parse out msg.childpath","          var childpath","          if(this.childpath == \"msg.childpath\"){","            if(\"childpath\" in msg){","              childpath = msg.childpath","            }","          }","          childpath = childpath || \"/\"","","          msg.eventType = eventType;","          msg.childpath = childpath || \"/\";","","          this.msg = msg;","          console.log(msg.childpath)","","          //if we are authorized","          //if we have listerners","          if(this.authorized == true){","            if(this.ready == true){ //We have listeners","              this.destroyListeners();","              this.registerListeners();","            } else { // We don't have listeners","              this.registerListeners();","            }","          }","","        }.bind(this));","","        this.on('close', function() {","          this.destroyListeners();","        }.bind(this));","","    }","    RED.nodes.registerType('firebase.on', FirebaseOn);","};",""],"l":{"1":1,"4":0,"5":0,"7":0,"8":0,"9":0,"10":0,"12":0,"13":0,"16":0,"21":1,"22":0,"24":0,"25":0,"26":0,"27":0,"28":0,"30":0,"31":0,"32":0,"33":0,"36":0,"37":0,"38":0,"39":0,"42":0,"51":0,"54":0,"55":0,"56":0,"59":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"77":0,"78":0,"81":0,"82":0,"83":0,"84":0,"87":0,"90":0,"91":0,"93":0,"94":0,"97":0,"98":0,"99":0,"101":0,"105":0,"106":0,"107":0,"109":0,"113":0,"114":0,"123":0,"124":0,"126":0,"127":0,"131":0,"135":0,"140":0,"141":0,"142":0,"145":0,"146":0,"147":0,"149":0,"151":0,"152":0,"154":0,"157":0,"158":0,"162":0,"164":0,"166":0,"167":0,"169":0,"170":0,"172":0,"173":0,"175":0,"176":0,"178":0,"179":0,"181":0,"182":0,"184":0,"185":0,"190":0,"196":0,"198":0,"201":0,"203":0,"206":0,"208":0,"211":0,"213":0,"214":0,"216":0,"217":0,"221":0,"223":0,"224":0,"225":0,"228":0,"230":0,"231":0,"234":0,"236":0,"237":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"253":0,"255":0,"256":0,"257":0,"258":0,"259":0,"261":0,"262":0,"265":0,"268":0,"269":0,"270":0,"274":0,"275":0,"276":0,"277":0,"280":0,"282":0,"283":0,"285":0,"286":0,"290":0,"291":0,"292":0,"293":0,"295":0,"301":0,"302":0,"306":0}}}